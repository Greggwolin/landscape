<!DOCTYPE html>
<html lang="en" data-coreui-theme="light">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ActiveProjectBar Mockup — CoreUI Variables</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }

  /* ══════════════════════════════════════════
     CoreUI Variable Simulation
     Mirrors actual values from coreui-theme.css / tokens.css
     ══════════════════════════════════════════ */
  :root {
    /* CoreUI base */
    --cui-body-bg: #f1f5f9;
    --cui-body-color: #1e293b;
    --cui-secondary-color: #64748b;
    --cui-tertiary-color: #94a3b8;
    --cui-border-color: #d8dbe0;
    --cui-card-bg: #ffffff;
    --cui-card-border-color: #d8dbe0;
    --cui-primary: #3b82f6;
    --cui-secondary-bg: #ebedef;
    --cui-tertiary-bg: #f0f4f7;
    --cui-focus-ring-color: rgba(59, 130, 246, 0.25);
    /* Custom tokens */
    --surface-card-header: #f0f1f2;
    --surface-subheader: #f7f7fb;
    --surface-bar: #e8eaed;
    --tile-border: #cbd5e1;
    /* Nav tile tokens */
    --nav-tile-bg: var(--cui-tertiary-bg);
    --nav-tile-color: var(--cui-secondary-color);
    --nav-tile-hover-bg: #dde1e6;
    --nav-tile-hover-color: var(--cui-body-color);
    --nav-tile-active-bg: #dbeafe;
    --nav-tile-active-color: #1e40af;
    --nav-tile-active-border: var(--cui-primary);
    /* Pill tokens */
    --pill-type-bg: rgba(37,99,235,0.1);
    --pill-type-color: #2563eb;
    --pill-type-border: rgba(37,99,235,0.25);
    --pill-persp-bg: rgba(14,165,233,0.1);
    --pill-persp-color: #0284c7;
    --pill-persp-border: rgba(14,165,233,0.2);
    --pill-purpose-bg: rgba(99,102,241,0.1);
    --pill-purpose-color: #4f46e5;
    --pill-purpose-border: rgba(99,102,241,0.2);
  }

  [data-coreui-theme="dark"] {
    --cui-body-bg: #0b1220;
    --cui-body-color: #e2e8f0;
    --cui-secondary-color: #94a3b8;
    --cui-tertiary-color: #64748b;
    --cui-border-color: #1e293b;
    --cui-card-bg: #111827;
    --cui-card-border-color: #1e293b;
    --cui-primary: #3b82f6;
    --cui-secondary-bg: #2a2e3a;
    --cui-tertiary-bg: #1e293b;
    --cui-focus-ring-color: rgba(59, 130, 246, 0.35);
    --surface-card-header: #121827;
    --surface-subheader: #1f2a37;
    --surface-bar: #2a2e3a;
    --tile-border: #4b5563;
    /* Nav tile tokens — dark */
    --nav-tile-bg: var(--cui-tertiary-bg);
    --nav-tile-color: var(--cui-secondary-color);
    --nav-tile-hover-bg: #334155;
    --nav-tile-hover-color: #cbd5e1;
    --nav-tile-active-bg: #1e3a5f;
    --nav-tile-active-color: #e2e8f0;
    --nav-tile-active-border: var(--cui-primary);
    /* Pill tokens — dark */
    --pill-type-bg: rgba(96,165,250,0.2);
    --pill-type-color: #93c5fd;
    --pill-type-border: rgba(96,165,250,0.3);
    --pill-persp-bg: rgba(56,189,248,0.15);
    --pill-persp-color: #7dd3fc;
    --pill-persp-border: rgba(56,189,248,0.25);
    --pill-purpose-bg: rgba(129,140,248,0.15);
    --pill-purpose-color: #a5b4fc;
    --pill-purpose-border: rgba(129,140,248,0.25);
  }

  body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    background: var(--cui-body-bg);
    color: var(--cui-body-color);
    min-height: 100vh;
  }

  /* ── Top Nav — ALWAYS DARK regardless of theme ── */
  .top-nav {
    height: 48px;
    background: #111827;
    border-bottom: 1px solid #1e293b;
    display: flex;
    align-items: center;
    padding: 0 1rem;
    font-size: 0.875rem;
    font-weight: 600;
    color: #94a3b8;
    gap: 0.5rem;
  }
  .top-nav .logo { color: #60a5fa; font-size: 1rem; }

  /* ══════════════════════════════════════════
     ACTIVE PROJECT BAR — NEW LAYOUT
     Background: --surface-bar (#2a2e3a dark / #e8eaed light)
     ══════════════════════════════════════════ */
  .active-bar {
    display: flex;
    align-items: stretch;
    gap: 0.75rem;
    padding: 0.5rem 1rem;
    background: var(--surface-bar);
    border-bottom: 1px solid var(--cui-border-color);
    position: sticky;
    top: 48px;
    z-index: 40;
  }

  /* Left block: selector stacked over pills */
  .bar-left {
    display: flex;
    flex-direction: column;
    gap: 0.35rem;
    flex-shrink: 0;
  }

  .project-selector {
    height: 30px;
    min-width: 210px;
    padding: 0 0.5rem;
    font-size: 0.8125rem;
    font-weight: 500;
    background: var(--cui-card-bg);
    color: var(--cui-body-color);
    border: 1px solid var(--cui-border-color);
    border-radius: 5px;
    cursor: pointer;
  }

  .pills-row {
    display: flex;
    gap: 0.35rem;
  }

  .pill {
    flex: 1;
    text-align: center;
    padding: 0.15rem 0.55rem;
    border-radius: 4px;
    font-size: 0.675rem;
    font-weight: 600;
    white-space: nowrap;
    cursor: pointer;
    transition: opacity 0.15s;
    line-height: 1.3;
  }
  .pill:hover { opacity: 0.85; }

  .pill-type     { background: var(--pill-type-bg); color: var(--pill-type-color); border: 1px solid var(--pill-type-border); }
  .pill-persp    { background: var(--pill-persp-bg); color: var(--pill-persp-color); border: 1px solid var(--pill-persp-border); }
  .pill-purpose  { background: var(--pill-purpose-bg); color: var(--pill-purpose-color); border: 1px solid var(--pill-purpose-border); }

  /* ── Nav Tiles (compact, monochrome, CoreUI vars) ── */
  .nav-tiles {
    display: flex;
    gap: 3px;
    flex: 1;
    min-width: 0;
    align-items: stretch;
  }

  .nav-tile {
    display: flex;
    align-items: center;
    justify-content: center;
    flex: 1 1 0;
    min-width: 0;
    padding: 0 0.5rem;
    font-size: 0.75rem;
    font-weight: 500;
    color: var(--nav-tile-color);
    background: var(--nav-tile-bg);
    border: 1px solid transparent;
    border-radius: 5px;
    cursor: pointer;
    transition: all 0.15s;
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;
  }
  .nav-tile:hover {
    background: var(--nav-tile-hover-bg);
    color: var(--nav-tile-hover-color);
  }
  .nav-tile.active {
    background: var(--nav-tile-active-bg);
    color: var(--nav-tile-active-color);
    font-weight: 600;
    border-color: var(--nav-tile-active-border);
    box-shadow: 0 1px 4px var(--cui-focus-ring-color);
  }

  /* Two-line tile variant */
  .nav-tile-lines {
    flex-direction: column;
    line-height: 1.15;
    padding: 0.2rem 0.5rem;
  }
  .nav-tile-primary { font-size: 0.7rem; font-weight: 600; }
  .nav-tile-secondary { font-size: 0.6rem; font-weight: 400; opacity: 0.7; }

  /* Version badge (far right) */
  .version-badge {
    flex-shrink: 0;
    align-self: center;
    font-size: 0.625rem;
    color: var(--cui-tertiary-color);
    white-space: nowrap;
    padding: 0.15rem 0.5rem;
    border: 1px solid var(--cui-border-color);
    border-radius: 4px;
  }

  /* ══════════════════════════════════════════
     SUB-TABS ROW (stays in content card)
     ══════════════════════════════════════════ */
  .content-area {
    display: flex;
    flex: 1;
    padding: 0.5rem 1rem 0;
    gap: 0.5rem;
  }

  .landscaper-panel {
    width: 320px;
    flex-shrink: 0;
    background: var(--cui-card-bg);
    border: 1px solid var(--cui-border-color);
    border-radius: 8px;
    height: calc(100vh - 140px);
    display: flex;
    flex-direction: column;
  }
  .landscaper-header {
    padding: 0.6rem 0.75rem;
    border-bottom: 1px solid var(--cui-border-color);
    font-size: 0.8rem;
    font-weight: 600;
    color: var(--cui-body-color);
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }
  .landscaper-header .ctx-pill {
    font-size: 0.65rem;
    padding: 0.1rem 0.4rem;
    background: var(--pill-type-bg);
    color: var(--pill-type-color);
    border-radius: 3px;
  }
  .landscaper-body {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--cui-tertiary-color);
    font-size: 0.8rem;
    padding: 1rem;
    text-align: center;
  }

  .right-column {
    flex: 1;
    min-width: 0;
    display: flex;
    flex-direction: column;
  }

  .content-card {
    background: var(--cui-card-bg);
    border: 1px solid var(--cui-border-color);
    border-radius: 8px;
    flex: 1;
    display: flex;
    flex-direction: column;
    overflow: hidden;
  }

  .sub-tabs-row {
    display: flex;
    background: var(--surface-subheader);
    border-bottom: 1px solid var(--cui-border-color);
    padding: 0 1rem;
    min-height: 34px;
    align-items: flex-end;
  }
  .sub-tab {
    padding: 0.4rem 1rem;
    font-size: 0.78rem;
    font-weight: 500;
    color: var(--cui-tertiary-color);
    background: transparent;
    border: none;
    border-bottom: 2px solid transparent;
    cursor: pointer;
    transition: all 0.15s;
    position: relative;
    bottom: -1px;
  }
  .sub-tab:hover { color: var(--cui-secondary-color); }
  .sub-tab.active {
    color: var(--cui-body-color);
    font-weight: 600;
    border-bottom-color: var(--cui-primary);
  }

  .page-content {
    flex: 1;
    padding: 1rem;
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
  }

  /* Placeholder cards */
  .placeholder-card {
    background: var(--cui-tertiary-bg);
    border: 1px solid var(--tile-border);
    border-radius: 6px;
    padding: 1rem;
  }
  .placeholder-card h4 {
    font-size: 0.8rem;
    color: var(--cui-secondary-color);
    margin-bottom: 0.5rem;
  }
  .placeholder-row {
    display: flex;
    gap: 0.5rem;
  }
  .placeholder-kpi {
    flex: 1;
    background: var(--cui-card-bg);
    border: 1px solid var(--tile-border);
    border-radius: 4px;
    padding: 0.5rem;
    text-align: center;
  }
  .placeholder-kpi .label { font-size: 0.65rem; color: var(--cui-tertiary-color); }
  .placeholder-kpi .value { font-size: 1rem; font-weight: 600; color: var(--cui-body-color); margin-top: 0.2rem; }

  /* Toggle buttons for demo */
  .demo-controls {
    position: fixed;
    bottom: 1rem;
    right: 1rem;
    display: flex;
    gap: 0.5rem;
    z-index: 100;
  }
  .demo-btn {
    padding: 0.4rem 0.8rem;
    font-size: 0.75rem;
    background: var(--cui-tertiary-bg);
    color: var(--cui-body-color);
    border: 1px solid var(--cui-border-color);
    border-radius: 5px;
    cursor: pointer;
  }
  .demo-btn:hover { background: var(--nav-tile-hover-bg); }
</style>
</head>
<body>

<!-- Top Nav (context only) -->
<div class="top-nav">
  <span class="logo">&#9670;</span> Landscape
</div>

<!-- ACTIVE PROJECT BAR (NEW LAYOUT) -->
<div class="active-bar">
  <!-- Left block: Selector + Pills stacked -->
  <div class="bar-left">
    <select class="project-selector">
      <option>7 - Chadron Terrace Apartments</option>
      <option>4 - Peoria Lakes MPC</option>
      <option>12 - Harbor Ridge Mixed Use</option>
    </select>
    <div class="pills-row">
      <span class="pill pill-type">Multifamily</span>
      <span class="pill pill-persp">Investment</span>
      <span class="pill pill-purpose">Valuation</span>
    </div>
  </div>

  <!-- Nav Tiles — 8 folders matching MF/Income/Valuation config -->
  <div class="nav-tiles" id="navTiles">
    <button class="nav-tile active" data-folder="home" onclick="setActive(this)">Project</button>
    <button class="nav-tile" data-folder="property" onclick="setActive(this)">Property</button>
    <button class="nav-tile" data-folder="operations" onclick="setActive(this)">Operations</button>
    <button class="nav-tile" data-folder="valuation" onclick="setActive(this)">Valuation</button>
    <button class="nav-tile" data-folder="capital" onclick="setActive(this)">Capitalization</button>
    <button class="nav-tile" data-folder="reports" onclick="setActive(this)">Reports</button>
    <button class="nav-tile" data-folder="documents" onclick="setActive(this)">Documents</button>
    <button class="nav-tile" data-folder="map" onclick="setActive(this)">Map</button>
  </div>

  <!-- Version badge -->
  <span class="version-badge">v0.9.2</span>
</div>

<!-- CONTENT AREA -->
<div class="content-area">
  <!-- Landscaper Panel -->
  <div class="landscaper-panel">
    <div class="landscaper-header">
      Landscaper <span class="ctx-pill">Project</span>
    </div>
    <div class="landscaper-body">
      Ask me about this project...
    </div>
  </div>

  <!-- Right Column -->
  <div class="right-column">
    <div class="content-card">
      <!-- Sub-tabs row -->
      <div class="sub-tabs-row" id="subTabs"></div>

      <!-- Page content placeholder -->
      <div class="page-content">
        <div class="placeholder-card">
          <h4>Financial Summary</h4>
          <div class="placeholder-row">
            <div class="placeholder-kpi">
              <div class="label">Total Budget</div>
              <div class="value">$24.5M</div>
            </div>
            <div class="placeholder-kpi">
              <div class="label">Cost / Unit</div>
              <div class="value">$186K</div>
            </div>
            <div class="placeholder-kpi">
              <div class="label">IRR</div>
              <div class="value">18.2%</div>
            </div>
            <div class="placeholder-kpi">
              <div class="label">NOI</div>
              <div class="value">$1.8M</div>
            </div>
          </div>
        </div>
        <div class="placeholder-card" style="flex:1; min-height: 200px;">
          <h4>Project Profile / Content Area</h4>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Demo controls -->
<div class="demo-controls">
  <button class="demo-btn" onclick="toggleTheme()">Toggle Light/Dark</button>
</div>

<script>
  function setActive(el) {
    document.querySelectorAll('.nav-tile').forEach(t => t.classList.remove('active'));
    el.classList.add('active');
    updateSubTabs(el.dataset.folder);
  }

  // MF / Income / Valuation folder config
  const subTabMap = {
    home: [],
    property: ['Details', 'Market', 'Rent Roll'],
    operations: [],
    valuation: ['Sales Comparison', 'Cost Approach', 'Income Approach', 'Reconciliation'],
    capital: ['Equity', 'Debt'],
    reports: ['Summary', 'Export'],
    documents: [],
    map: [],
  };

  function updateSubTabs(folder) {
    const row = document.getElementById('subTabs');
    const tabs = subTabMap[folder] || [];
    if (tabs.length === 0) {
      row.style.display = 'none';
      return;
    }
    row.style.display = 'flex';
    row.innerHTML = tabs.map((t, i) =>
      `<button class="sub-tab ${i === 0 ? 'active' : ''}" onclick="setSubActive(this)">${t}</button>`
    ).join('');
  }

  function setSubActive(el) {
    el.parentElement.querySelectorAll('.sub-tab').forEach(t => t.classList.remove('active'));
    el.classList.add('active');
  }

  function toggleTheme() {
    const html = document.documentElement;
    html.dataset.coreuiTheme = html.dataset.coreuiTheme === 'dark' ? 'light' : 'dark';
  }

  updateSubTabs('home');
</script>

</body>
</html>
