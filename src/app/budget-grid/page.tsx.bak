'use client';

import { useState } from 'react';
import BudgetGrid from '../components/Budget/BudgetGrid';

// MUI Imports
import Card from '@mui/material/Card';
import CardContent from '@mui/material/CardContent';
import Typography from '@mui/material/Typography';
import FormControl from '@mui/material/FormControl';
import InputLabel from '@mui/material/InputLabel';
import Select from '@mui/material/Select';
import MenuItem from '@mui/material/MenuItem';
import Box from '@mui/material/Box';
import Button from '@mui/material/Button';
import Link from 'next/link';

export default function BudgetGridPage() {
  const [projectId, setProjectId] = useState<number>(7);

  return (
    <Box className="p-6" sx={{ backgroundColor: 'var(--surface-bg)', minHeight: '100vh' }}>
      {/* Page Header Card */}
      <Card className="mb-6">
        <CardContent>
          <Box className="tw-flex tw-items-center tw-justify-between">
            <Box>
              <Typography variant="h4" className="tw-font-bold mb-2">
                Budget Grid
              </Typography>
              <Typography variant="body2" color="text.secondary">
                Spreadsheet interface for budget management
              </Typography>
            </Box>
            <Box className="tw-flex tw-items-center gap-4">
              <FormControl size="small" sx={{ minWidth: 200 }}>
                <InputLabel>Project</InputLabel>
                <Select
                  value={projectId}
                  onChange={(e) => setProjectId(Number(e.target.value))}
                  label="Project"
                >
                  <MenuItem value={7}>Peoria Lakes</MenuItem>
                  <MenuItem value={8}>Red Valley MPC</MenuItem>
                </Select>
              </FormControl>
              <Button
                variant="outlined"
                size="small"
                component={Link}
                href="/budget"
              >
                ‚Üê Back to Budget
              </Button>
            </Box>
          </Box>
        </CardContent>
      </Card>

      {/* Budget Grid Component */}
      <BudgetGrid projectId={projectId} />
    </Box>
  );
}
