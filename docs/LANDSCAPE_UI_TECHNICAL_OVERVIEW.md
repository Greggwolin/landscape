# Landscape Application — UI Technical Overview
Date generated: 2026-02-19

## Document Notes
- This document is generated from the current repository state and does not validate runtime feature flags or production deployments.
- Global `/dms` has been removed; document management is project-scoped and the Knowledge Library lives inside the AdminModal (see Section 4).
- Several routes exist in `src/app` that are not referenced from the current navigation (TopNavigationBar only links to `/dashboard`). These are labeled as `prototype` or `deprecated` in the route table with notes.
- `ComplexityModeContext` exists and the provider wraps project pages, but no user-facing mode switcher is present and `useComplexityMode` is not referenced anywhere in `src/`. Components still accept `ComplexityTier` props for internal field density (e.g., Operations tab and Configure Columns). This is documented as internal-only.
- `ProjectModeContext` is explicitly marked `@deprecated` and the only usage is the provider wrapping the project layout. No consumers were found in `src/`, so any remaining functional impact is uncertain and noted where relevant.
- `docs/HEADER_COLOR_HIERARCHY.md` does not exist in this repo; styling notes are based on `src/styles/tokens.css` and related CoreUI files.

## Recent Changes Summary
- Git log highlights recent UI work: operations routes and serializers, navigation layout + help panel + folder tab polish, and extraction/knowledge updates (`git log` entries: `4513c07`, `90b25a8`, `0e28026`).
- The implementation status report (2026-02-18) notes DMS doc type/tag alignment, Knowledge Library consolidation into AdminModal, and the Folder-Tabs UI overhaul as the most recent major UI/UX changes.

## 1. Navigation Architecture

### 1.1 Primary Navigation
- `TopNavigationBar` (`src/app/components/TopNavigationBar.tsx`) renders the global header with logo, primary links, theme toggle, bug report (staff only), Help toggle, Settings (AdminModal), and user menu.
- Global nav links are defined in `GLOBAL_NAV_LINKS` (`src/app/components/navigation/constants.ts`) and currently include only `Dashboard`.
- `NavigationLayout` (`src/app/components/NavigationLayout.tsx`) wraps all pages, hides navigation on auth routes, and mounts the Help panel + AdminModal.

### 1.2 Project Navigation (FolderTabs)
- Project pages use `ProjectLayoutClient` (`src/app/projects/[projectId]/ProjectLayoutClient.tsx`) for the split layout with the Landscaper panel on the left and FolderTabs + content on the right.
- Folder tabs are generated by `folderTabConfig` (`src/lib/utils/folderTabConfig.ts`) and wired through `useFolderNavigation` (`src/hooks/useFolderNavigation.ts`) using query params: `/projects/[projectId]?folder=...&tab=...`.
- Current folder set (after analysis-type filtering): Project, Property, Operations (income) or Development/Sales (land), Valuation (income) or Feasibility (land), Capitalization, Reports, Documents, Map.
- Folder tab styling is governed by CSS variables and explicit rules in `FolderTabs` (`src/components/navigation/FolderTabs.tsx`) that forbid Tailwind color utility classes.

### 1.3 Route Structure (full table)

| Path | Purpose | Status | Auth required | Property-type specific | Notes |
| --- | --- | --- | --- | --- | --- |
| `/_archive/prototypes/[prototypeId]` | Archived prototype viewer | deprecated | yes | no | Archived; not linked from current nav |
| `/_archive/prototypes/multifam/rent-roll-inputs/content` | Archived rent-roll prototype content | deprecated | yes | no | Archived under `_archive` |
| `/_archive/prototypes/multifam/rent-roll-inputs` | Archived rent-roll prototype shell | deprecated | yes | no | Archived under `_archive` |
| `/_archive/prototypes` | Archived prototypes index | deprecated | yes | no | Archived under `_archive` |
| `/admin/benchmarks/cost-library` | Legacy cost library admin page | deprecated | yes | no | AdminModal is the primary entry point now |
| `/admin/benchmarks` | Legacy benchmarks admin page | deprecated | yes | no | AdminModal is the primary entry point now |
| `/admin/changelog` | Admin changelog viewer | prototype | yes | no | Not referenced in current nav |
| `/admin/dms/templates` | DMS template admin page | prototype | yes | no | Not referenced in current nav; DMS admin lives in AdminModal |
| `/admin/feedback` | Admin feedback queue | prototype | yes | no | Not referenced in current nav |
| `/admin/preferences` | Legacy preferences admin page | deprecated | yes | no | AdminModal is the primary entry point now |
| `/admin/users` | Admin user management | prototype | yes | no | Not referenced in current nav |
| `/ai-document-review` | AI document review demo | prototype | yes | no | Explicit demo copy in page |
| `/breadcrumb-demo` | Breadcrumb component demo | prototype | yes | no | Dev sandbox |
| `/budget-grid` | Budget grid prototype | prototype | yes | yes | Standalone prototype |
| `/budget-grid-v2` | Budget grid prototype v2 | prototype | yes | yes | Standalone prototype |
| `/contacts` | Global contact manager | prototype | yes | no | Not referenced in current nav; contact UI exists in Project tab |
| `/dashboard` | Main dashboard | production | yes | no | Primary global entry |
| `/db-schema` | Database schema viewer | prototype | yes | no | Dev tool |
| `/dev-status` | Development status dashboard | prototype | yes | no | Dev tool |
| `/documentation` | Documentation center UI | prototype | yes | no | Dev tool |
| `/documents/review` | Document review/training UI | prototype | yes | no | Sandbox route |
| `/forgot-password` | Password reset request | production | no | no | Public route |
| `/gis-simple-test` | GIS test page | prototype | yes | no | Dev tool |
| `/growthratedetail` | Growth rate detail sandbox | prototype | yes | no | Sandbox route |
| `/growthrates` | Growth rates sandbox | prototype | yes | no | Sandbox route |
| `/growthrates-original` | Original growth rates sandbox | prototype | yes | no | Sandbox route |
| `/growthratesmanager` | Growth rates manager sandbox | prototype | yes | no | Sandbox route |
| `/inventory` | Universal inventory table | prototype | yes | yes | Not referenced in current nav |
| `/login` | Login | production | no | no | Public route |
| `/map-debug` | Map debug page | prototype | yes | no | Dev tool |
| `/market` | Market intel dashboard | prototype | yes | yes | Not referenced in current nav; uses active project geography |
| `/market-assumptions` | Market assumptions sandbox | prototype | yes | no | Sandbox route |
| `/onboarding` | Landscaper onboarding survey/chat | production | yes | no | Entry point for user onboarding |
| `/` | Home redirect → `/dashboard` | production | yes | no | Client-side redirect |
| `/planning` | Standalone planning page | prototype | yes | yes | Hard-coded project_id=7 |
| `/preferences` | Legacy preferences router | deprecated | yes | no | Redirects to admin routes |
| `/projects/[projectId]/assumptions` | Assumptions baskets | deprecated | yes | yes | Not used by folder tabs |
| `/projects/[projectId]/budget` | Legacy budget grid | deprecated | yes | yes | Replaced by folder tab navigation |
| `/projects/[projectId]/capitalization/debt` | Legacy debt page | deprecated | yes | yes | Replaced by folder tabs; page reused in CapitalizationTab |
| `/projects/[projectId]/capitalization/equity` | Legacy equity page | deprecated | yes | yes | Replaced by folder tabs; page reused in CapitalizationTab |
| `/projects/[projectId]/documents` | Project DMS (full page) | production | yes | yes | Matches Documents folder content |
| `/projects/[projectId]/investment-committee` | IC page (path-based) | deprecated | yes | yes | Folder tab exposes IC via reports subtab |
| `/projects/[projectId]` | Project workspace (FolderTabs) | production | yes | yes | Primary project workspace |
| `/projects/[projectId]/project/budget` | Legacy project budget | deprecated | yes | yes | Archived route set |
| `/projects/[projectId]/project/dms` | Legacy project DMS | deprecated | yes | yes | Archived route set |
| `/projects/[projectId]/project/planning` | Legacy project planning | deprecated | yes | yes | Archived route set |
| `/projects/[projectId]/project/sales` | Legacy project sales | deprecated | yes | yes | Archived route set |
| `/projects/[projectId]/project/summary` | Legacy project summary | deprecated | yes | yes | Archived route set |
| `/projects/[projectId]/settings` | Project settings page | deprecated | yes | yes | Not linked in current nav |
| `/projects/setup` | Project setup wizard | prototype | yes | no | Listed in sandbox constants |
| `/prototypes-multifam` | Multifamily prototypes hub | prototype | yes | no | Sandbox route |
| `/register` | Registration | production | no | no | Public route |
| `/rent-roll` | Legacy rent roll analysis | deprecated | yes | yes | Uses legacy MUI UI and direct Django upload |
| `/reports` | Global reports sandbox | prototype | yes | no | Hard-coded project id |
| `/reset-password` | Password reset confirm | production | no | no | Public route |
| `/settings/budget-categories` | Legacy settings page | deprecated | yes | no | Not referenced in current nav |
| `/settings/contact-roles` | Legacy settings page | deprecated | yes | no | Not referenced in current nav |
| `/settings/profile` | Legacy settings page | deprecated | yes | no | Not referenced in current nav |
| `/settings/taxonomy` | Legacy settings page | deprecated | yes | no | Not referenced in current nav |
| `/test-coreui` | CoreUI test page | prototype | yes | no | Dev sandbox |

### 1.4 Deprecated Navigation Patterns
- `ProjectModeContext` (`src/contexts/ProjectModeContext.tsx`) is marked deprecated and the UI toggle has been removed; only the provider remains in `src/app/projects/[projectId]/layout.tsx`.
- Path-based project subroutes (e.g., `/projects/[projectId]/budget`, `/projects/[projectId]/capitalization/*`, `/projects/[projectId]/project/*`) have been superseded by query-param FolderTabs in `/projects/[projectId]`.
- `SANDBOX_PAGES` exists in `src/app/components/navigation/constants.ts` but is not referenced by any visible navigation component.

## 2. Page Inventory

### `/` (Home)
Page Anatomy:
- `HomePage` — `src/app/page.tsx` — client redirect to `/dashboard`.
Key data dependencies:
- None.
Notable behaviors/state:
- Uses `router.push('/dashboard')` on mount.

### `/dashboard`
Page Anatomy:
- `DashboardPage` — `src/app/dashboard/page.tsx` — primary dashboard layout, project list, and overlays.
- `ProjectProvider` — `src/app/components/ProjectProvider.tsx` — supplies project list and active project selection.
- `DashboardMap` — `src/app/components/dashboard/DashboardMap.tsx` — project map and markers.
- `TriageModal` — `src/app/components/dashboard/TriageModal.tsx` — triage workflow modal.
- `NewProjectModal` — `src/app/components/NewProjectModal.tsx` — project creation.
- `ActivityFeed` — `src/components/landscaper/ActivityFeed.tsx` — project activity list.
- `LandscaperChat` — `src/components/landscaper/LandscaperChat.tsx` — AI chat panel.
- `CollapsedLandscaperStrip` — `src/components/landscaper/CollapsedLandscaperStrip.tsx` — collapsed AI strip.
Key data dependencies:
- `GET /api/projects` via `ProjectProvider` (SWR).
- `GET /api/projects/{id}/landscaper/activities` via `useActivityFeed` (React Query).
- `POST /api/projects/{id}/landscaper/chat` via `useLandscaper` when chat is used.
Notable behaviors/state:
- Filters projects by type and syncs selection with the map.
- Activity feed falls back to mock data if the API fails.

### `/projects/[projectId]` (Project Workspace)
Page Anatomy:
- `ProjectPage` — `src/app/projects/[projectId]/page.tsx` — entry point that reads folder/tab query params.
- `ProjectLayoutClient` — `src/app/projects/[projectId]/ProjectLayoutClient.tsx` — split layout, folder tabs, and drop zone wrapper.
- `ActiveProjectBar` — `src/app/projects/[projectId]/components/ActiveProjectBar.tsx` — sticky project selector and badges.
- `FolderTabs` — `src/components/navigation/FolderTabs.tsx` — two-row folder/subtab navigation.
- `ProjectContentRouter` — `src/app/projects/[projectId]/ProjectContentRouter.tsx` — routes folder/tab to content components.
- Folder content components (all routed from `ProjectContentRouter`):
- `ProjectTab` — `src/app/projects/[projectId]/components/tabs/ProjectTab.tsx` — project overview + contacts.
- `PropertyTab` — `src/app/projects/[projectId]/components/tabs/PropertyTab.tsx` — property details + rent roll.
- `PlanningTab` — `src/app/projects/[projectId]/components/tabs/PlanningTab.tsx` — land planning.
- `MarketTab` — `src/app/projects/[projectId]/components/tabs/MarketTab.tsx` — market data.
- `BudgetTab` — `src/app/projects/[projectId]/components/tabs/BudgetTab.tsx` — budget grid wrapper.
- `OperationsTab` — `src/app/projects/[projectId]/components/tabs/OperationsTab.tsx` — unified P&L.
- `SalesTab` — `src/app/projects/[projectId]/components/tabs/SalesTab.tsx` — sales/absorption.
- `FeasibilityTab` — `src/app/projects/[projectId]/components/tabs/FeasibilityTab.tsx` — cash flow + feasibility.
- `ValuationTab` — `src/app/projects/[projectId]/components/tabs/ValuationTab.tsx` — sales/cost/income approaches.
- `CapitalizationTab` — `src/app/projects/[projectId]/components/tabs/CapitalizationTab.tsx` — equity/debt.
- `ReportsTab` — `src/app/projects/[projectId]/components/tabs/ReportsTab.tsx` — report selection.
- `DocumentsTab` — `src/app/projects/[projectId]/components/tabs/DocumentsTab.tsx` — project DMS + media.
- `MapTab` — `src/components/map-tab/MapTab.tsx` — spatial hub.
Key data dependencies:
- `GET /api/projects` via `ProjectProvider` for project context.
- `GET /api/projects/{id}/details` in `ProjectTab`.
- `GET /api/projects/{id}/contacts` via `ContactsSection` in `ProjectTab`.
- `GET /api/projects/{id}/operations` in `useOperationsData` (`OperationsTab`).
- Multifamily data in `PropertyTab` via `src/lib/api/multifamily.ts` (units, leases, unit types) plus:
- `GET /api/projects/{id}/rental-comparables` (rent comps).
- `GET /api/dynamic-columns/?project_id=...` and `GET /api/projects/{id}/dynamic/columns/with_values` (rent roll dynamic columns).
- `GET /api/knowledge/projects/{id}/rent-roll/pending-changes/` for pending rent roll deltas.
- Budget system endpoints (`/api/budget/gantt`, `/api/budget/categories`, `/api/unit-costs/*`) via budget components.
- Valuation endpoints via `src/lib/api/valuation.ts` (Django endpoints like `/api/projects/{id}/sales-comparables/`).
- Capitalization endpoints via React Query hooks (`/api/projects/{id}/loans/`, `/api/projects/{id}/waterfall/calculate`).
- Feasibility cash flow via Django (`/api/projects/{id}/cash-flow/calculate/`).
- Map endpoints via GIS APIs (`/api/gis/*`) and sales/rental comparables for overlays.
Notable behaviors/state:
- Folder/tab state is encoded in the URL (`?folder=...&tab=...`) and validated by `useFolderNavigation`.
- Left panel is resizable and collapsible; collapsing shows `CollapsedLandscaperStrip`.
- `DropZoneWrapper` captures file drops anywhere in the content panel and forwards them to the Landscaper via `FileDropContext`.
- Rent roll extraction badge and processing state are shown on the Property → Rent Roll subtab using `useExtractionJobStatus` + `usePendingRentRollExtractions`.

### `/projects/[projectId]/documents`
Page Anatomy:
- `ProjectDocumentsPage` — `src/app/projects/[projectId]/documents/page.tsx` — full-page DMS view.
- `DMSView` — `src/components/dms/DMSView.tsx` — main document management UI.
- `DocumentPreviewPanel` — `src/components/dms/views/DocumentPreviewPanel.tsx` — detail side panel.
- `AccordionFilters` — `src/components/dms/filters/AccordionFilters.tsx` — doc type filters.
- `ProfileForm` — `src/components/dms/profile/ProfileForm.tsx` — profile editor.
- `MediaPreviewModal` — `src/components/dms/modals/MediaPreviewModal.tsx` — media assets.
Key data dependencies:
- Django doc type list: `GET /api/dms/projects/{id}/doc-types/` (preferred).
- Next.js fallback doc types: `GET /api/dms/templates/doc-types`.
- Filter counts: `GET /api/dms/filters/counts?project_id=...`.
- Document CRUD: `GET/POST /api/dms/docs`, `PATCH /api/dms/documents/{id}/profile`, delete/restore endpoints via Django proxies.
Notable behaviors/state:
- Inline “+ Add Type” supports project-specific doc type creation.
- Trash view is built into the same page and uses soft delete/restore.

### `/login`
Page Anatomy:
- `LoginPage` — `src/app/login/page.tsx` — login form.
Key data dependencies:
- `POST {DJANGO_API}/api/auth/login/` via `AuthContext`.
Notable behaviors/state:
- Sets auth tokens in localStorage and cookie for middleware auth gating.

### `/register`
Page Anatomy:
- `RegisterPage` — `src/app/register/page.tsx` — registration form.
Key data dependencies:
- `POST {DJANGO_API}/api/auth/register/` via `AuthContext`.
Notable behaviors/state:
- Creates user and stores auth tokens on success.

### `/forgot-password`
Page Anatomy:
- `ForgotPasswordPage` — `src/app/forgot-password/page.tsx` — password reset request form.
Key data dependencies:
- `POST {DJANGO_API}/api/auth/password-reset/` via `AuthContext`.
Notable behaviors/state:
- Sends reset email/token for password reset.

### `/reset-password`
Page Anatomy:
- `ResetPasswordPage` — `src/app/reset-password/page.tsx` — password reset confirm form.
Key data dependencies:
- `POST {DJANGO_API}/api/auth/password-reset/confirm/` via `AuthContext`.
Notable behaviors/state:
- Updates password using reset token.

### `/onboarding`
Page Anatomy:
- `LandingOnboardingPage` — `src/app/onboarding/page.tsx` — orchestrates survey or onboarding chat.
- `OnboardingSurvey` — `src/components/Onboarding/OnboardingSurvey.tsx` — survey collection.
- `OnboardingChat` — `src/components/Onboarding/OnboardingChat.tsx` — onboarding assistant chat.
Key data dependencies:
- `fetchLandscaperProfile`, `updateLandscaperProfile`, `compileLandscaperInstructions` in `src/services/landscaperProfile.ts`.
Notable behaviors/state:
- Uses `survey_completed_at` to switch between survey and chat.

## 3. Landscaper Panel
- Primary component: `LandscaperPanel` (`src/components/landscaper/LandscaperPanel.tsx`) mounted in `ProjectLayoutClient`.
- Chat experience: `LandscaperChatThreaded` (`src/components/landscaper/LandscaperChatThreaded.tsx`) with thread list, mutation confirmations, and tool result triggers.
- Activity feed: `ActivityFeed` (`src/components/landscaper/ActivityFeed.tsx`) with API-driven items and fallback mock data.
- File drop handling: `DropZoneWrapper` (`src/components/ui/DropZoneWrapper.tsx`) routes dropped files into `FileDropContext` (`src/contexts/FileDropContext.tsx`), then `LandscaperPanel` consumes and uploads them via UploadThing and `POST /api/dms/docs`.
- Extraction badge behavior: `ProjectLayoutClient` uses `useExtractionJobStatus` and `usePendingRentRollExtractions` to display rent roll processing/pending changes on the Property → Rent Roll subtab; badge clicks navigate to rent roll.
- Collision handling: `LandscaperCollisionContext` (`src/contexts/LandscaperCollisionContext.tsx`) wires upload collisions into chat; DMS audit notes that the collision-to-chat flow is not fully wired everywhere.
- Knowledge Library access: `AdminModal` → `LandscaperAdminPanel` (`src/components/admin/LandscaperAdminPanel.tsx`) mounts `KnowledgeLibraryPanel` (`src/components/admin/knowledge-library/KnowledgeLibraryPanel.tsx`).

## 4. Document Management System
- Project-scoped DMS lives at `/projects/[projectId]/documents` and inside the Documents folder tab (`DocumentsTab`).
- The global `/dms` route is removed and replaced by the AdminModal Knowledge Library panel (per implementation status and DMS audit).
- Core UI: `DMSView` (`src/components/dms/DMSView.tsx`) combines filters, document list, and preview panel with modals for delete/rename/restore.
- Media pipeline: `MediaPreviewModal` (`src/components/dms/modals/MediaPreviewModal.tsx`) and `ProjectMediaGallery` (`src/components/dms/ProjectMediaGallery.tsx`) surface extracted images and classifications.
- Key gaps from `docs/DMS_AUDIT_REPORT.md` (2026-02-19): version history UI, template/attribute management UI, collision → Landscaper chat wiring, async extraction worker, and bulk delete API.

## 5. Component Architecture
- Layout wrappers: `NavigationLayout` (`src/app/components/NavigationLayout.tsx`) and `ProjectLayoutClient` control global and project-level chrome.
- Navigation primitives: `FolderTabs` (`src/components/navigation/FolderTabs.tsx`) + `folderTabConfig` (`src/lib/utils/folderTabConfig.ts`).
- Core UI wrappers: `src/components/ui/landscape/*` provides CoreUI-based primitives and enforces intent-driven styling.
- DMS module: `src/components/dms/*` encapsulates filters, preview panel, profile editing, and media tooling.
- Landscaper module: `src/components/landscaper/*` encapsulates chat, activity feed, extraction UI, and scenario tooling.
- Map module: `src/components/map-tab/*` for project spatial hub and GIS tooling.

## 6. Styling System
- Tokens live in `src/styles/tokens.css` with explicit variables for brand, surfaces, nav colors, folder tab colors, and semantic chips.
- CoreUI bridge and overrides are in `src/styles/coreui-theme.css` and are the canonical source for component colors, borders, and shadows.
- CoreUI compliance requirements:
- Use CoreUI CSS variables (`--cui-*`) or token variables (`--*`) for colors.
- Prefer `src/components/ui/landscape/*` wrappers for buttons, badges, and tables.
- Use `SemanticButton` (`src/components/ui/landscape/SemanticButton.tsx`) for action buttons to enforce intent tokens.
- Tailwind restrictions:
- FolderTabs explicitly forbid Tailwind color utilities (no `bg-*`, `text-*`, `border-*` color classes) and require CSS variables.
- `src/styles/sales-comparison.css` and other tab-specific styles note “CoreUI variables only.”

## 7. State Management
- Primary data fetching: React Query via `QueryProvider` (`src/app/components/QueryProvider.tsx`).
- Legacy data fetching: SWR is still used in multiple hooks (`useExtractionJobStatus`, `usePendingRentRollChanges`, `useProjectContext`, etc.) and is being phased out.
- Active contexts:
- `AuthContext` (`src/contexts/AuthContext.tsx`) for authentication and user profile.
- `ProjectProvider` (`src/app/components/ProjectProvider.tsx`) for project list and active project.
- `HelpLandscaperContext` (`src/contexts/HelpLandscaperContext.tsx`) for global help panel.
- `FileDropContext` (`src/contexts/FileDropContext.tsx`) for drag-drop uploads.
- `LandscaperCollisionContext` (`src/contexts/LandscaperCollisionContext.tsx`) for DMS collision resolution.
- `ScenarioContext` (`src/contexts/ScenarioContext.tsx`) for scenario selection.
- Internal-only / deprecated contexts:
- `ComplexityModeContext` (`src/contexts/ComplexityModeContext.tsx`) — internal-only; no user-facing toggle.
- `ProjectModeContext` (`src/contexts/ProjectModeContext.tsx`) — deprecated; provider still wraps project layout but no consumers found.

## 8. Key User Flows
- Login → Dashboard → select project → open `/projects/[projectId]` workspace via folder tabs.
- Project workspace → Documents tab → upload files (DMS or drag-drop) → extraction processing → rent roll pending changes highlighted in Property → Rent Roll.
- Operations tab → edit line items → auto-save and value-add toggle → refresh via Landscaper mutation events.
- Settings (AdminModal) → Landscaper tab → Knowledge Library or Extraction Mappings.

## Appendix A: File Structure
- `src/app/` — App Router routes and layouts.
- `src/app/components/` — App-level wrappers (navigation, providers, dashboard modules).
- `src/components/` — Shared UI modules (DMS, Landscaper, map, capitalization, etc.).
- `src/contexts/` — React contexts (auth, help panel, collisions, scenarios).
- `src/hooks/` — Data hooks (React Query + SWR).
- `src/lib/` — API clients, utilities, and configuration.
- `src/styles/` — Tokens, CoreUI theme bridge, and feature CSS.
- `docs/` — System documentation and audits.

## Appendix B: UI Dependencies
- Core: `next`, `react`, `react-dom`.
- UI framework: `@coreui/react`, `@coreui/icons`, `@coreui/icons-react`.
- Data: `@tanstack/react-query` (primary), `swr` (legacy).
- Uploads: `uploadthing`, `@uploadthing/react`.
- Drag-and-drop: `react-dropzone`.
- Icons: `lucide-react`.
- Maps/drawing: `@mapbox/mapbox-gl-draw` (MapLibre integration in map module).
- Misc: `@radix-ui/react-tabs` (market), `@mui/material` (legacy rent roll page).
