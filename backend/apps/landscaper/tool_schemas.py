"""
Compressed Landscaper tool schemas.

Generated by scripts/compress_tools.py â€” DO NOT EDIT MANUALLY.
Tool count: 169
Estimated tokens: ~17,200
"""


LANDSCAPER_TOOLS = [
    {
        "name": "update_project_field",
        "description": "Update a single project field value.",
        "input_schema": {
            "type": "object",
            "properties": {
                "table": {"type": "string"},
                "field": {"type": "string"},
                "value": {"type": "string"},
                "reason": {"type": "string"},
            },
            "required": ["table", "field", "value", "reason"],
        },
    },
    {
        "name": "bulk_update_fields",
        "description": "Update multiple project fields at once.",
        "input_schema": {
            "type": "object",
            "properties": {
                "updates": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "table": {"type": "string"},
                            "field": {"type": "string"},
                            "value": {"type": "string"},
                            "reason": {"type": "string"},
                        },
                        "required": ["table", "field", "value", "reason"],
                    },
                },
            },
            "required": ["updates"],
        },
    },
    {
        "name": "get_cashflow_results",
        "description": "Get cash flow / DCF assumptions and results.",
        "input_schema": {
            "type": "object",
            "properties": {
                "project_id": {"type": "integer"},
            },
            "required": ["project_id"],
        },
    },
    {
        "name": "compute_cashflow_expression",
        "description": "Evaluate a math expression against cash flow results.",
        "input_schema": {
            "type": "object",
            "properties": {
                "expression": {"type": "string"},
                "context": {"type": "object"},
            },
            "required": ["expression", "context"],
        },
    },
    {
        "name": "update_cashflow_assumption",
        "description": "Update a cashflow/DCF assumption field. Always set confirm=true.",
        "input_schema": {
            "type": "object",
            "properties": {
                "project_id": {"type": "integer"},
                "field": {"type": "string"},
                "new_value": {"type": "number"},
                "confirm": {"type": "boolean"},
                "reason": {"type": "string"},
            },
            "required": ["project_id", "field", "new_value", "confirm", "reason"],
        },
    },
    {
        "name": "get_project_fields",
        "description": "Get current project field values from specified tables.",
        "input_schema": {
            "type": "object",
            "properties": {
                "fields": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "table": {"type": "string"},
                            "field": {"type": "string"},
                        },
                        "required": ["table", "field"],
                    },
                },
            },
            "required": ["fields"],
        },
    },
    {
        "name": "get_field_schema",
        "description": "Get the database schema for a project table.",
        "input_schema": {
            "type": "object",
            "properties": {
                "table_name": {"type": "string"},
                "field_group": {"type": "string"},
                "field_name": {"type": "string"},
            },
        },
    },
    {
        "name": "get_project_documents",
        "description": "List all uploaded documents for this project.",
        "input_schema": {
            "type": "object",
            "properties": {
                "status_filter": {"type": "string"},
            },
        },
    },
    {
        "name": "get_document_content",
        "description": "Get extracted text content from a document.",
        "input_schema": {
            "type": "object",
            "properties": {
                "doc_id": {"type": "integer"},
                "doc_type": {"type": "string"},
                "doc_name": {"type": "string"},
                "max_length": {"type": "integer"},
                "focus": {
                    "type": "string",
                    "enum": ["rental_comps", "operating_expenses", "rent_roll"],
                },
            },
        },
    },
    {
        "name": "get_document_page",
        "description": "Get a specific page from a document.",
        "input_schema": {
            "type": "object",
            "properties": {
                "doc_id": {"type": "integer"},
                "page_number": {"type": "integer"},
                "page_range_end": {"type": "integer"},
            },
            "required": ["doc_id", "page_number"],
        },
    },
    {
        "name": "get_document_assertions",
        "description": "Get AI-extracted assertions from a document.",
        "input_schema": {
            "type": "object",
            "properties": {
                "doc_id": {"type": "integer"},
                "subject_type": {"type": "string"},
            },
        },
    },
    {
        "name": "ingest_document",
        "description": "Trigger AI extraction pipeline on an uploaded document.",
        "input_schema": {
            "type": "object",
            "properties": {
                "doc_id": {"type": "integer"},
                "overwrite_existing": {"type": "boolean"},
                "field_filter": {
                    "type": "array",
                    "items": {"type": "string"},
                },
            },
            "required": ["doc_id"],
        },
    },
    {
        "name": "get_document_media_summary",
        "description": "Get summary of images/tables in a document.",
        "input_schema": {
            "type": "object",
            "properties": {
                "doc_id": {"type": "integer"},
            },
            "required": ["doc_id"],
        },
    },
    {
        "name": "analyze_rent_roll_columns",
        "description": "Analyze uploaded rent roll columns for mapping.",
        "input_schema": {
            "type": "object",
            "properties": {
                "document_id": {"type": "integer"},
            },
            "required": ["document_id"],
        },
    },
    {
        "name": "confirm_column_mapping",
        "description": "Confirm column mapping and extract rent roll data.",
        "input_schema": {
            "type": "object",
            "properties": {
                "document_id": {"type": "integer"},
                "mappings": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "source_column": {"type": "string"},
                            "target_field": {
                                "type": ["string", "null"],
                            },
                            "create_dynamic": {"type": "boolean"},
                            "dynamic_column_name": {"type": "string"},
                            "data_type": {"type": "string"},
                        },
                        "required": ["source_column"],
                    },
                },
                "section8_source_column": {"type": "string"},
            },
            "required": ["document_id", "mappings"],
        },
    },
    {
        "name": "compute_rent_roll_delta",
        "description": "Compute differences between extracted and existing rent roll data.",
        "input_schema": {
            "type": "object",
            "properties": {
                "document_id": {"type": "integer"},
                "mappings": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "source_column": {"type": "string"},
                            "target_field": {
                                "type": ["string", "null"],
                            },
                            "create_dynamic": {"type": "boolean"},
                            "dynamic_column_name": {"type": "string"},
                            "data_type": {"type": "string"},
                        },
                        "required": ["source_column"],
                    },
                },
            },
            "required": ["document_id", "mappings"],
        },
    },
    {
        "name": "update_operating_expenses",
        "description": "Create or update operating expense line items.",
        "input_schema": {
            "type": "object",
            "properties": {
                "expenses": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "label": {"type": "string"},
                            "annual_amount": {"type": "number"},
                            "per_unit": {"type": "number"},
                            "per_sf": {"type": "number"},
                            "unit_amount": {"type": "number"},
                            "amount_per_sf": {"type": "number"},
                            "expense_type": {"type": "string"},
                            "escalation_rate": {"type": "number"},
                            "is_recoverable": {"type": "boolean"},
                        },
                        "required": ["label", "annual_amount"],
                    },
                },
                "source_document": {"type": "string"},
            },
            "required": ["expenses"],
        },
    },
    {
        "name": "update_rental_comps",
        "description": "Bulk update rental comparable properties.",
        "input_schema": {
            "type": "object",
            "properties": {
                "comps": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "property_name": {"type": "string"},
                            "address": {"type": "string"},
                            "latitude": {"type": "number"},
                            "longitude": {"type": "number"},
                            "distance_miles": {"type": "number"},
                            "year_built": {"type": "integer"},
                            "total_units": {"type": "integer"},
                            "unit_type": {"type": "string"},
                            "bedrooms": {"type": "number"},
                            "bathrooms": {"type": "number"},
                            "avg_sqft": {"type": "integer"},
                            "asking_rent": {"type": "number"},
                            "effective_rent": {"type": "number"},
                            "notes": {"type": "string"},
                        },
                        "required": [
                            "property_name",
                            "unit_type",
                            "bedrooms",
                            "bathrooms",
                            "avg_sqft",
                            "asking_rent",
                        ],
                    },
                },
                "source_document": {"type": "string"},
            },
            "required": ["comps"],
        },
    },
    {
        "name": "update_project_contacts",
        "description": "Update project contact assignments.",
        "input_schema": {
            "type": "object",
            "properties": {
                "contacts": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "contact_role": {
                                "type": "string",
                                "enum": [
                                    "listing_broker",
                                    "buyer_broker",
                                    "mortgage_broker",
                                    "seller",
                                    "buyer",
                                    "lender",
                                    "title",
                                    "escrow",
                                    "attorney",
                                    "property_manager",
                                    "other",
                                ],
                            },
                            "contact_name": {"type": "string"},
                            "contact_title": {"type": "string"},
                            "contact_email": {"type": "string"},
                            "contact_phone": {"type": "string"},
                            "company_name": {"type": "string"},
                            "license_number": {"type": "string"},
                            "is_primary": {"type": "boolean"},
                            "address_line1": {"type": "string"},
                            "city": {"type": "string"},
                            "state": {"type": "string"},
                            "zip": {"type": "string"},
                            "notes": {"type": "string"},
                        },
                        "required": ["contact_role", "contact_name"],
                    },
                },
                "source_document": {"type": "string"},
            },
            "required": ["contacts"],
        },
    },
    {
        "name": "get_acquisition",
        "description": "Get acquisition/purchase details for this project.",
        "input_schema": {
            "type": "object",
            "properties": {},
        },
    },
    {
        "name": "update_acquisition",
        "description": "Update acquisition/purchase fields.",
        "input_schema": {
            "type": "object",
            "properties": {
                "purchase_price": {"type": "number"},
                "price_per_unit": {"type": "number"},
                "price_per_sf": {"type": "number"},
                "acquisition_date": {"type": "string"},
                "hold_period_years": {"type": "number"},
                "exit_cap_rate": {"type": "number"},
                "sale_date": {"type": "string"},
                "closing_costs_pct": {"type": "number"},
                "due_diligence_days": {"type": "integer"},
                "earnest_money": {"type": "number"},
                "sale_costs_pct": {"type": "number"},
                "broker_commission_pct": {"type": "number"},
                "legal_fees": {"type": "number"},
                "financing_fees": {"type": "number"},
                "third_party_reports": {"type": "number"},
                "depreciation_basis": {"type": "number"},
                "land_pct": {"type": "number"},
                "improvement_pct": {"type": "number"},
                "is_1031_exchange": {"type": "boolean"},
                "grm": {"type": "number"},
                "reason": {"type": "string"},
            },
        },
    },
    {
        "name": "get_revenue_rent",
        "description": "Get rent revenue assumptions.",
        "input_schema": {
            "type": "object",
            "properties": {},
        },
    },
    {
        "name": "update_revenue_rent",
        "description": "Update rent revenue assumptions.",
        "input_schema": {
            "type": "object",
            "properties": {
                "current_rent_psf": {"type": "number"},
                "in_place_rent_psf": {"type": "number"},
                "market_rent_psf": {"type": "number"},
                "occupancy_pct": {"type": "number"},
                "stabilized_occupancy_pct": {"type": "number"},
                "annual_rent_growth_pct": {"type": "number"},
                "rent_growth_years_1_3_pct": {"type": "number"},
                "rent_growth_stabilized_pct": {"type": "number"},
                "rent_loss_to_lease_pct": {"type": "number"},
                "lease_up_months": {"type": "integer"},
                "free_rent_months": {"type": "number"},
                "ti_allowance_per_unit": {"type": "number"},
                "renewal_probability_pct": {"type": "number"},
                "reason": {"type": "string"},
            },
        },
    },
    {
        "name": "get_revenue_other",
        "description": "Get other income line items.",
        "input_schema": {
            "type": "object",
            "properties": {},
        },
    },
    {
        "name": "update_revenue_other",
        "description": "Update other income line items.",
        "input_schema": {
            "type": "object",
            "properties": {
                "other_income_per_unit_monthly": {"type": "number"},
                "income_category": {"type": "string"},
                "parking_income_per_space": {"type": "number"},
                "parking_spaces": {"type": "integer"},
                "reserved_parking_premium": {"type": "number"},
                "pet_fee_per_pet": {"type": "number"},
                "pet_penetration_pct": {"type": "number"},
                "laundry_income_per_unit": {"type": "number"},
                "storage_income_per_unit": {"type": "number"},
                "application_fees_annual": {"type": "number"},
                "late_fees_annual": {"type": "number"},
                "utility_reimbursements_annual": {"type": "number"},
                "furnished_unit_premium_pct": {"type": "number"},
                "short_term_rental_income": {"type": "number"},
                "ancillary_services_income": {"type": "number"},
                "vending_income": {"type": "number"},
                "package_locker_fees": {"type": "number"},
                "ev_charging_fees": {"type": "number"},
                "other_miscellaneous": {"type": "number"},
                "reason": {"type": "string"},
            },
        },
    },
    {
        "name": "get_vacancy_assumptions",
        "description": "Get vacancy and collection loss assumptions.",
        "input_schema": {
            "type": "object",
            "properties": {},
        },
    },
    {
        "name": "update_vacancy_assumptions",
        "description": "Update vacancy and collection loss assumptions.",
        "input_schema": {
            "type": "object",
            "properties": {
                "vacancy_loss_pct": {"type": "number"},
                "collection_loss_pct": {"type": "number"},
                "physical_vacancy_pct": {"type": "number"},
                "economic_vacancy_pct": {"type": "number"},
                "bad_debt_pct": {"type": "number"},
                "concession_cost_pct": {"type": "number"},
                "turnover_vacancy_days": {"type": "integer"},
                "market_vacancy_rate_pct": {"type": "number"},
                "submarket_vacancy_rate_pct": {"type": "number"},
                "competitive_set_vacancy_pct": {"type": "number"},
                "reason": {"type": "string"},
            },
        },
    },
    {
        "name": "get_unit_types",
        "description": "Get unit type mix (floorplans) for this project.",
        "input_schema": {
            "type": "object",
            "properties": {},
        },
    },
    {
        "name": "update_unit_types",
        "description": "Create or update unit type definitions.",
        "input_schema": {
            "type": "object",
            "properties": {
                "records": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "unit_type_code": {"type": "string"},
                            "unit_type_name": {"type": "string"},
                            "bedrooms": {"type": "number"},
                            "bathrooms": {"type": "number"},
                            "avg_square_feet": {"type": "integer"},
                            "market_rent": {"type": "number"},
                            "current_rent_avg": {"type": "number"},
                            "total_units": {"type": "integer"},
                            "unit_count": {"type": "integer"},
                            "concessions_avg": {"type": "number"},
                            "notes": {"type": "string"},
                            "other_features": {"type": "string"},
                        },
                        "required": ["unit_type_code"],
                    },
                },
                "reason": {"type": "string"},
            },
            "required": ["records"],
        },
    },
    {
        "name": "get_units",
        "description": "Get individual units with lease data.",
        "input_schema": {
            "type": "object",
            "properties": {
                "building_name": {"type": "string"},
                "unit_type": {"type": "string"},
                "occupancy_status": {"type": "string"},
                "limit": {"type": "integer"},
            },
        },
    },
    {
        "name": "update_units",
        "description": "Create or update individual units.",
        "input_schema": {
            "type": "object",
            "properties": {
                "records": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "unit_number": {"type": "string"},
                            "unit_type": {"type": "string"},
                            "building_name": {"type": "string"},
                            "floor_number": {"type": "integer"},
                            "bedrooms": {"type": "number"},
                            "bathrooms": {"type": "number"},
                            "square_feet": {"type": "integer"},
                            "market_rent": {"type": "number"},
                            "current_rent": {"type": "number"},
                            "occupancy_status": {"type": "string"},
                            "lease_start_date": {"type": "string"},
                            "lease_end_date": {"type": "string"},
                            "renovation_status": {"type": "string"},
                            "renovation_cost": {"type": "number"},
                            "renovation_date": {"type": "string"},
                            "is_section8": {"type": "boolean"},
                            "is_manager": {"type": "boolean"},
                            "has_balcony": {"type": "boolean"},
                            "has_patio": {"type": "boolean"},
                            "view_type": {"type": "string"},
                        },
                        "required": ["unit_number"],
                    },
                },
                "reason": {"type": "string"},
            },
            "required": ["records"],
        },
    },
    {
        "name": "delete_units",
        "description": "Delete units. Requires confirmation phase.",
        "input_schema": {
            "type": "object",
            "properties": {
                "unit_identifiers": {
                    "type": "array",
                    "items": {"type": "string"},
                },
                "reason": {"type": "string"},
                "confirmed": {"type": "boolean"},
            },
            "required": ["unit_identifiers"],
        },
    },
    {
        "name": "get_leases",
        "description": "Get lease records for this project.",
        "input_schema": {
            "type": "object",
            "properties": {
                "lease_status": {"type": "string"},
                "limit": {"type": "integer"},
            },
        },
    },
    {
        "name": "update_leases",
        "description": "Create or update lease records.",
        "input_schema": {
            "type": "object",
            "properties": {
                "records": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "lease_id": {"type": "integer"},
                            "tenant_name": {"type": "string"},
                            "suite_number": {"type": "string"},
                            "floor_number": {"type": "integer"},
                            "lease_status": {"type": "string"},
                            "lease_type": {"type": "string"},
                            "lease_commencement_date": {"type": "string"},
                            "lease_expiration_date": {"type": "string"},
                            "lease_term_months": {"type": "integer"},
                            "leased_sf": {"type": "number"},
                            "tenant_contact": {"type": "string"},
                            "tenant_email": {"type": "string"},
                            "tenant_phone": {"type": "string"},
                            "security_deposit_amount": {"type": "number"},
                            "number_of_renewal_options": {"type": "integer"},
                            "renewal_option_term_months": {"type": "integer"},
                            "notes": {"type": "string"},
                        },
                        "required": [
                            "tenant_name",
                            "lease_commencement_date",
                            "lease_expiration_date",
                            "lease_term_months",
                            "leased_sf",
                        ],
                    },
                },
                "reason": {"type": "string"},
            },
            "required": ["records"],
        },
    },
    {
        "name": "get_sales_comparables",
        "description": "Get sales comparable properties.",
        "input_schema": {
            "type": "object",
            "properties": {
                "limit": {"type": "integer"},
            },
        },
    },
    {
        "name": "update_sales_comparable",
        "description": "Create or update a sales comparable.",
        "input_schema": {
            "type": "object",
            "properties": {
                "comparable_id": {"type": "integer"},
                "property_name": {"type": "string"},
                "comp_number": {"type": "integer"},
                "address": {"type": "string"},
                "city": {"type": "string"},
                "state": {"type": "string"},
                "zip": {"type": "string"},
                "sale_date": {"type": "string"},
                "sale_price": {"type": "number"},
                "price_per_unit": {"type": "number"},
                "price_per_sf": {"type": "number"},
                "cap_rate": {"type": "string"},
                "grm": {"type": "number"},
                "year_built": {"type": "integer"},
                "units": {"type": "number"},
                "unit_count": {"type": "integer"},
                "building_sf": {"type": "string"},
                "distance_from_subject": {"type": "string"},
                "unit_mix": {"type": "object"},
                "latitude": {"type": "number"},
                "longitude": {"type": "number"},
                "notes": {"type": "string"},
                "reason": {"type": "string"},
            },
        },
    },
    {
        "name": "delete_sales_comparable",
        "description": "Delete a sales comparable by ID.",
        "input_schema": {
            "type": "object",
            "properties": {
                "comparable_id": {"type": "integer"},
                "reason": {"type": "string"},
            },
            "required": ["comparable_id"],
        },
    },
    {
        "name": "get_sales_comp_adjustments",
        "description": "Get adjustment grid for sales comparables.",
        "input_schema": {
            "type": "object",
            "properties": {
                "comparable_id": {"type": "integer"},
            },
            "required": ["comparable_id"],
        },
    },
    {
        "name": "update_sales_comp_adjustment",
        "description": "Update a sales comp adjustment value.",
        "input_schema": {
            "type": "object",
            "properties": {
                "comparable_id": {"type": "integer"},
                "adjustment_type": {"type": "string"},
                "adjustment_pct": {"type": "number"},
                "adjustment_amount": {"type": "number"},
                "justification": {"type": "string"},
                "user_adjustment_pct": {"type": "number"},
                "ai_accepted": {"type": "boolean"},
                "user_notes": {"type": "string"},
                "reason": {"type": "string"},
            },
            "required": ["comparable_id", "adjustment_type"],
        },
    },
    {
        "name": "get_rental_comparables",
        "description": "Get rental comparable properties.",
        "input_schema": {
            "type": "object",
            "properties": {
                "unit_type": {"type": "string"},
                "active_only": {"type": "boolean"},
                "limit": {"type": "integer"},
            },
        },
    },
    {
        "name": "update_rental_comparable",
        "description": "Create or update a rental comparable.",
        "input_schema": {
            "type": "object",
            "properties": {
                "comparable_id": {"type": "integer"},
                "property_name": {"type": "string"},
                "address": {"type": "string"},
                "distance_miles": {"type": "number"},
                "year_built": {"type": "integer"},
                "total_units": {"type": "integer"},
                "unit_type": {"type": "string"},
                "bedrooms": {"type": "number"},
                "bathrooms": {"type": "number"},
                "avg_sqft": {"type": "integer"},
                "asking_rent": {"type": "number"},
                "effective_rent": {"type": "number"},
                "concessions": {"type": "string"},
                "amenities": {"type": "string"},
                "notes": {"type": "string"},
                "data_source": {"type": "string"},
                "as_of_date": {"type": "string"},
                "is_active": {"type": "boolean"},
                "reason": {"type": "string"},
            },
        },
    },
    {
        "name": "delete_rental_comparable",
        "description": "Delete a rental comparable by ID.",
        "input_schema": {
            "type": "object",
            "properties": {
                "comparable_id": {"type": "integer"},
                "reason": {"type": "string"},
            },
            "required": ["comparable_id"],
        },
    },
    {
        "name": "get_loans",
        "description": "Get loan/debt structure for this project.",
        "input_schema": {
            "type": "object",
            "properties": {},
        },
    },
    {
        "name": "update_loan",
        "description": "Create or update a loan record.",
        "input_schema": {
            "type": "object",
            "properties": {
                "loan_id": {"type": "integer"},
                "loan_name": {"type": "string"},
                "loan_type": {"type": "string"},
                "structure_type": {"type": "string"},
                "lender_name": {"type": "string"},
                "commitment_amount": {"type": "number"},
                "loan_amount": {"type": "number"},
                "interest_rate_pct": {"type": "number"},
                "interest_type": {"type": "string"},
                "interest_index": {"type": "string"},
                "interest_spread_bps": {"type": "integer"},
                "loan_term_months": {"type": "number"},
                "loan_term_years": {"type": "number"},
                "amortization_months": {"type": "number"},
                "amortization_years": {"type": "number"},
                "interest_only_months": {"type": "number"},
                "payment_frequency": {"type": "string"},
                "origination_fee_pct": {"type": "number"},
                "exit_fee_pct": {"type": "number"},
                "loan_to_cost_pct": {"type": "number"},
                "loan_to_value_pct": {"type": "number"},
                "seniority": {"type": "integer"},
                "status": {"type": "string"},
                "loan_start_date": {"type": "string"},
                "loan_maturity_date": {"type": "string"},
                "notes": {"type": "string"},
                "reason": {"type": "string"},
            },
        },
    },
    {
        "name": "delete_loan",
        "description": "Delete a loan by ID.",
        "input_schema": {
            "type": "object",
            "properties": {
                "loan_id": {"type": "integer"},
                "reason": {"type": "string"},
            },
            "required": ["loan_id"],
        },
    },
    {
        "name": "get_equity_structure",
        "description": "Get equity structure (GP/LP splits, promote).",
        "input_schema": {
            "type": "object",
            "properties": {},
        },
    },
    {
        "name": "update_equity_structure",
        "description": "Update equity structure fields.",
        "input_schema": {
            "type": "object",
            "properties": {
                "lp_ownership_pct": {"type": "number"},
                "gp_ownership_pct": {"type": "number"},
                "preferred_return_pct": {"type": "number"},
                "gp_promote_after_pref": {"type": "number"},
                "catch_up_pct": {"type": "number"},
                "equity_multiple_target": {"type": "number"},
                "irr_target_pct": {"type": "number"},
                "distribution_frequency": {"type": "string"},
                "reason": {"type": "string"},
            },
        },
    },
    {
        "name": "get_waterfall_tiers",
        "description": "Get equity waterfall tier definitions.",
        "input_schema": {
            "type": "object",
            "properties": {
                "tier_id": {"type": "integer"},
            },
        },
    },
    {
        "name": "update_waterfall_tiers",
        "description": "Update equity waterfall tiers.",
        "input_schema": {
            "type": "object",
            "properties": {
                "records": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "tier_id": {"type": "integer"},
                            "tier_number": {"type": "integer"},
                            "tier_name": {"type": "string"},
                            "tier_description": {"type": "string"},
                            "hurdle_type": {"type": "string"},
                            "hurdle_rate": {"type": "number"},
                            "lp_split_pct": {"type": "number"},
                            "gp_split_pct": {"type": "number"},
                            "irr_threshold_pct": {"type": "number"},
                            "equity_multiple_threshold": {"type": "number"},
                            "has_catch_up": {"type": "boolean"},
                            "catch_up_pct": {"type": "number"},
                            "catch_up_to_pct": {"type": "number"},
                            "is_pari_passu": {"type": "boolean"},
                            "is_lookback_tier": {"type": "boolean"},
                            "is_active": {"type": "boolean"},
                            "display_order": {"type": "integer"},
                        },
                    },
                },
                "reason": {"type": "string"},
            },
            "required": ["records"],
        },
    },
    {
        "name": "get_budget_categories",
        "description": "Get budget category tree.",
        "input_schema": {
            "type": "object",
            "properties": {
                "parent_id": {"type": "integer"},
                "account_level": {"type": "integer"},
                "active_only": {"type": "boolean"},
            },
        },
    },
    {
        "name": "update_budget_category",
        "description": "Create or update a budget category.",
        "input_schema": {
            "type": "object",
            "properties": {
                "category_id": {"type": "integer"},
                "category_name": {"type": "string"},
                "parent_id": {"type": "integer"},
                "account_number": {"type": "string"},
                "account_level": {"type": "integer"},
                "sort_order": {"type": "integer"},
                "is_active": {"type": "boolean"},
                "property_types": {
                    "type": "array",
                    "items": {"type": "string"},
                },
                "is_calculated": {"type": "boolean"},
                "tags": {
                    "type": "array",
                    "items": {"type": "string"},
                },
                "reason": {"type": "string"},
            },
        },
    },
    {
        "name": "get_budget_items",
        "description": "Get budget line items with optional filters.",
        "input_schema": {
            "type": "object",
            "properties": {
                "category_id": {"type": "integer"},
                "limit": {"type": "integer"},
            },
        },
    },
    {
        "name": "update_budget_item",
        "description": "Create or update a budget line item.",
        "input_schema": {
            "type": "object",
            "properties": {
                "fact_id": {"type": "integer"},
                "category_id": {"type": "integer"},
                "uom_code": {"type": "string"},
                "qty": {"type": "number"},
                "rate": {"type": "number"},
                "amount": {"type": "number"},
                "notes": {"type": "string"},
                "internal_memo": {"type": "string"},
                "vendor_name": {"type": "string"},
                "contract_number": {"type": "string"},
                "purchase_order": {"type": "string"},
                "start_date": {"type": "string"},
                "end_date": {"type": "string"},
                "start_period": {"type": "integer"},
                "periods_to_complete": {"type": "integer"},
                "end_period": {"type": "integer"},
                "timing_method": {"type": "string"},
                "baseline_start_date": {"type": "string"},
                "baseline_end_date": {"type": "string"},
                "actual_start_date": {"type": "string"},
                "actual_end_date": {"type": "string"},
                "contingency_pct": {"type": "number"},
                "contingency_mode": {"type": "string"},
                "escalation_rate": {"type": "number"},
                "escalation_method": {"type": "string"},
                "cost_type": {"type": "string"},
                "tax_treatment": {"type": "string"},
                "is_committed": {"type": "boolean"},
                "is_reimbursable": {"type": "boolean"},
                "is_critical": {"type": "boolean"},
                "status": {"type": "string"},
                "percent_complete": {"type": "number"},
                "float_days": {"type": "integer"},
                "early_start_date": {"type": "string"},
                "late_finish_date": {"type": "string"},
                "approval_status": {"type": "string"},
                "approved_by": {"type": "integer"},
                "approval_date": {"type": "string"},
                "budget_version": {"type": "string"},
                "version_as_of_date": {"type": "string"},
                "bid_date": {"type": "string"},
                "bid_amount": {"type": "number"},
                "bid_variance": {"type": "number"},
                "funding_draw_pct": {"type": "number"},
                "draw_schedule": {"type": "string"},
                "retention_pct": {"type": "number"},
                "payment_terms": {"type": "string"},
                "invoice_frequency": {"type": "string"},
                "cost_allocation": {"type": "string"},
                "allocation_method": {"type": "string"},
                "allocated_total": {"type": "number"},
                "allocation_variance": {"type": "number"},
                "cf_start_flag": {"type": "boolean"},
                "cf_distribution": {"type": "string"},
                "change_order_count": {"type": "integer"},
                "change_order_total": {"type": "number"},
                "document_count": {"type": "integer"},
                "curve_profile": {"type": "string"},
                "curve_steepness": {"type": "number"},
                "activity": {"type": "string"},
                "scenario_id": {"type": "integer"},
                "reason": {"type": "string"},
            },
        },
    },
    {
        "name": "delete_budget_item",
        "description": "Delete a budget item by ID.",
        "input_schema": {
            "type": "object",
            "properties": {
                "fact_id": {"type": "integer"},
                "reason": {"type": "string"},
            },
            "required": ["fact_id"],
        },
    },
    {
        "name": "get_areas",
        "description": "Get area (level 1) containers for this project.",
        "input_schema": {
            "type": "object",
            "properties": {
                "area_id": {"type": "integer"},
            },
        },
    },
    {
        "name": "update_area",
        "description": "Create or update an area container.",
        "input_schema": {
            "type": "object",
            "properties": {
                "area_id": {"type": "integer"},
                "area_alias": {"type": "string"},
                "area_no": {"type": "integer"},
                "reason": {"type": "string"},
            },
        },
    },
    {
        "name": "delete_area",
        "description": "Delete an area container by ID.",
        "input_schema": {
            "type": "object",
            "properties": {
                "area_id": {"type": "integer"},
                "reason": {"type": "string"},
            },
            "required": ["area_id"],
        },
    },
    {
        "name": "get_phases",
        "description": "Get phase (level 2) containers for this project.",
        "input_schema": {
            "type": "object",
            "properties": {
                "phase_id": {"type": "integer"},
                "area_id": {"type": "integer"},
            },
        },
    },
    {
        "name": "update_phase",
        "description": "Create or update a phase container.",
        "input_schema": {
            "type": "object",
            "properties": {
                "phase_id": {"type": "integer"},
                "area_id": {"type": "integer"},
                "phase_name": {"type": "string"},
                "phase_no": {"type": "integer"},
                "label": {"type": "string"},
                "description": {"type": "string"},
                "phase_status": {"type": "string"},
                "phase_start_date": {"type": "string"},
                "phase_completion_date": {"type": "string"},
                "absorption_start_date": {"type": "string"},
                "reason": {"type": "string"},
            },
        },
    },
    {
        "name": "delete_phase",
        "description": "Delete a phase container by ID.",
        "input_schema": {
            "type": "object",
            "properties": {
                "phase_id": {"type": "integer"},
                "reason": {"type": "string"},
            },
            "required": ["phase_id"],
        },
    },
    {
        "name": "get_parcels",
        "description": "Get parcel (level 3) containers for this project.",
        "input_schema": {
            "type": "object",
            "properties": {
                "parcel_id": {"type": "integer"},
                "phase_id": {"type": "integer"},
                "area_id": {"type": "integer"},
                "limit": {"type": "integer"},
            },
        },
    },
    {
        "name": "update_parcel",
        "description": "Create or update a parcel record.",
        "input_schema": {
            "type": "object",
            "properties": {
                "parcel_id": {"type": "integer"},
                "phase_id": {"type": "integer"},
                "parcel_name": {"type": "string"},
                "parcel_code": {"type": "string"},
                "landuse_code": {"type": "string"},
                "landuse_type": {"type": "string"},
                "lot_product": {"type": "string"},
                "lot_width": {"type": "number"},
                "lot_depth": {"type": "number"},
                "lot_area": {"type": "number"},
                "acres_gross": {"type": "number"},
                "units_total": {"type": "integer"},
                "family_name": {"type": "string"},
                "density_code": {"type": "string"},
                "type_code": {"type": "string"},
                "product_code": {"type": "string"},
                "building_name": {"type": "string"},
                "building_class": {"type": "string"},
                "rentable_sf": {"type": "number"},
                "common_area_sf": {"type": "number"},
                "year_built": {"type": "integer"},
                "year_renovated": {"type": "integer"},
                "parking_spaces": {"type": "integer"},
                "parking_ratio": {"type": "number"},
                "saledate": {"type": "string"},
                "saleprice": {"type": "number"},
                "is_income_property": {"type": "boolean"},
                "property_metadata": {"type": "object"},
                "description": {"type": "string"},
                "reason": {"type": "string"},
            },
        },
    },
    {
        "name": "delete_parcel",
        "description": "Delete a parcel by ID.",
        "input_schema": {
            "type": "object",
            "properties": {
                "parcel_id": {"type": "integer"},
                "reason": {"type": "string"},
            },
            "required": ["parcel_id"],
        },
    },
    {
        "name": "get_milestones",
        "description": "Get project milestones/timeline events.",
        "input_schema": {
            "type": "object",
            "properties": {
                "milestone_id": {"type": "integer"},
                "phase_id": {"type": "integer"},
                "milestone_type": {"type": "string"},
                "status": {"type": "string"},
            },
        },
    },
    {
        "name": "update_milestone",
        "description": "Create or update a milestone.",
        "input_schema": {
            "type": "object",
            "properties": {
                "milestone_id": {"type": "integer"},
                "milestone_name": {"type": "string"},
                "milestone_type": {"type": "string"},
                "phase_id": {"type": "integer"},
                "target_date": {"type": "string"},
                "actual_date": {"type": "string"},
                "status": {"type": "string"},
                "predecessor_milestone_id": {"type": "integer"},
                "notes": {"type": "string"},
                "source_doc_id": {"type": "integer"},
                "confidence_score": {"type": "number"},
                "created_by": {"type": "string"},
                "reason": {"type": "string"},
            },
        },
    },
    {
        "name": "delete_milestone",
        "description": "Delete a milestone by ID.",
        "input_schema": {
            "type": "object",
            "properties": {
                "milestone_id": {"type": "integer"},
                "reason": {"type": "string"},
            },
            "required": ["milestone_id"],
        },
    },
    {
        "name": "get_land_use_families",
        "description": "Get land use families (level 1 taxonomy).",
        "input_schema": {
            "type": "object",
            "properties": {
                "family_id": {"type": "integer"},
                "is_active": {"type": "boolean"},
            },
        },
    },
    {
        "name": "update_land_use_family",
        "description": "Create or update a land use family.",
        "input_schema": {
            "type": "object",
            "properties": {
                "family_id": {"type": "integer"},
                "code": {"type": "string"},
                "name": {"type": "string"},
                "active": {"type": "boolean"},
                "notes": {"type": "string"},
                "reason": {"type": "string"},
            },
        },
    },
    {
        "name": "get_land_use_types",
        "description": "Get land use types (level 2 taxonomy).",
        "input_schema": {
            "type": "object",
            "properties": {
                "type_id": {"type": "integer"},
                "family_id": {"type": "integer"},
                "is_active": {"type": "boolean"},
            },
        },
    },
    {
        "name": "update_land_use_type",
        "description": "Create or update a land use type.",
        "input_schema": {
            "type": "object",
            "properties": {
                "type_id": {"type": "integer"},
                "family_id": {"type": "integer"},
                "code": {"type": "string"},
                "name": {"type": "string"},
                "ord": {"type": "integer"},
                "active": {"type": "boolean"},
                "notes": {"type": "string"},
                "reason": {"type": "string"},
            },
        },
    },
    {
        "name": "get_residential_products",
        "description": "Get residential products (level 3 taxonomy).",
        "input_schema": {
            "type": "object",
            "properties": {
                "product_id": {"type": "integer"},
                "land_use_type_id": {"type": "integer"},
                "is_active": {"type": "boolean"},
            },
        },
    },
    {
        "name": "update_residential_product",
        "description": "Create or update a residential product.",
        "input_schema": {
            "type": "object",
            "properties": {
                "product_id": {"type": "integer"},
                "code": {"type": "string"},
                "lot_width": {"type": "number"},
                "lot_depth": {"type": "number"},
                "lot_area_sf": {"type": "integer"},
                "land_use_type_id": {"type": "integer"},
                "is_active": {"type": "boolean"},
                "reason": {"type": "string"},
            },
        },
    },
    {
        "name": "get_measures",
        "description": "Get measure definitions (units of measurement).",
        "input_schema": {
            "type": "object",
            "properties": {
                "measure_id": {"type": "integer"},
                "category": {"type": "string"},
            },
        },
    },
    {
        "name": "update_measure",
        "description": "Create or update a measure definition.",
        "input_schema": {
            "type": "object",
            "properties": {
                "measure_id": {"type": "integer"},
                "abbreviation": {"type": "string"},
                "name": {"type": "string"},
                "category": {"type": "string"},
                "property_types": {
                    "type": "array",
                    "items": {"type": "string"},
                },
                "sort_order": {"type": "integer"},
                "reason": {"type": "string"},
            },
        },
    },
    {
        "name": "get_picklist_values",
        "description": "Get picklist/dropdown values for a field.",
        "input_schema": {
            "type": "object",
            "properties": {
                "picklist_name": {"type": "string"},
                "is_active": {"type": "boolean"},
            },
        },
    },
    {
        "name": "update_picklist_value",
        "description": "Create or update a picklist value.",
        "input_schema": {
            "type": "object",
            "properties": {
                "picklist_id": {"type": "integer"},
                "picklist_name": {"type": "string"},
                "value": {"type": "string"},
                "display_label": {"type": "string"},
                "description": {"type": "string"},
                "sort_order": {"type": "integer"},
                "is_active": {"type": "boolean"},
                "reason": {"type": "string"},
            },
        },
    },
    {
        "name": "delete_picklist_value",
        "description": "Delete a picklist value by ID.",
        "input_schema": {
            "type": "object",
            "properties": {
                "picklist_id": {"type": "integer"},
                "reason": {"type": "string"},
            },
            "required": ["picklist_id"],
        },
    },
    {
        "name": "get_benchmarks",
        "description": "Get benchmark data (IREM, market, custom).",
        "input_schema": {
            "type": "object",
            "properties": {
                "benchmark_id": {"type": "integer"},
                "category": {"type": "string"},
                "property_type": {"type": "string"},
                "market": {"type": "string"},
                "limit": {"type": "integer"},
            },
        },
    },
    {
        "name": "update_benchmark",
        "description": "Create or update a benchmark record.",
        "input_schema": {
            "type": "object",
            "properties": {
                "benchmark_id": {"type": "integer"},
                "benchmark_name": {"type": "string"},
                "name": {"type": "string"},
                "category": {"type": "string"},
                "subcategory": {"type": "string"},
                "description": {"type": "string"},
                "market_geography": {"type": "string"},
                "market": {"type": "string"},
                "property_type": {"type": "string"},
                "source_type": {"type": "string"},
                "source_document_id": {"type": "integer"},
                "source_project_id": {"type": "integer"},
                "extraction_date": {"type": "string"},
                "as_of_date": {"type": "string"},
                "cpi_index_value": {"type": "number"},
                "confidence_level": {"type": "string"},
                "usage_count": {"type": "integer"},
                "context_metadata": {"type": "object"},
                "is_active": {"type": "boolean"},
                "is_global": {"type": "boolean"},
                "reason": {"type": "string"},
            },
        },
    },
    {
        "name": "delete_benchmark",
        "description": "Delete a benchmark by ID.",
        "input_schema": {
            "type": "object",
            "properties": {
                "benchmark_id": {"type": "integer"},
                "reason": {"type": "string"},
            },
            "required": ["benchmark_id"],
        },
    },
    {
        "name": "get_cost_library_items",
        "description": "Get cost library items for budgeting.",
        "input_schema": {
            "type": "object",
            "properties": {
                "item_id": {"type": "integer"},
                "category_id": {"type": "integer"},
                "is_active": {"type": "boolean"},
                "limit": {"type": "integer"},
            },
        },
    },
    {
        "name": "update_cost_library_item",
        "description": "Create or update a cost library item.",
        "input_schema": {
            "type": "object",
            "properties": {
                "item_id": {"type": "integer"},
                "item_name": {"type": "string"},
                "name": {"type": "string"},
                "category_id": {"type": "integer"},
                "default_uom_code": {"type": "string"},
                "unit_of_measure": {"type": "string"},
                "quantity": {"type": "number"},
                "typical_mid_value": {"type": "number"},
                "unit_cost": {"type": "number"},
                "typical_low_value": {"type": "number"},
                "typical_high_value": {"type": "number"},
                "market_geography": {"type": "string"},
                "project_type_code": {"type": "string"},
                "source": {"type": "string"},
                "as_of_date": {"type": "string"},
                "created_from_ai": {"type": "boolean"},
                "created_from_project_id": {"type": "integer"},
                "last_used_date": {"type": "string"},
                "usage_count": {"type": "integer"},
                "is_active": {"type": "boolean"},
                "reason": {"type": "string"},
            },
        },
    },
    {
        "name": "delete_cost_library_item",
        "description": "Delete a cost library item by ID.",
        "input_schema": {
            "type": "object",
            "properties": {
                "item_id": {"type": "integer"},
                "reason": {"type": "string"},
            },
            "required": ["item_id"],
        },
    },
    {
        "name": "get_report_templates",
        "description": "Get available report templates.",
        "input_schema": {
            "type": "object",
            "properties": {
                "template_id": {"type": "integer"},
                "report_type": {"type": "string"},
                "is_active": {"type": "boolean"},
            },
        },
    },
    {
        "name": "get_dms_templates",
        "description": "Get document management system templates.",
        "input_schema": {
            "type": "object",
            "properties": {
                "template_id": {"type": "integer"},
                "document_type": {"type": "string"},
                "is_default": {"type": "boolean"},
            },
        },
    },
    {
        "name": "update_template",
        "description": "Update a report or DMS template.",
        "input_schema": {
            "type": "object",
            "properties": {
                "template_id": {"type": "integer"},
                "template_type": {"type": "string"},
                "template_name": {"type": "string"},
                "description": {"type": "string"},
                "output_format": {"type": "string"},
                "assigned_tabs": {"type": "array"},
                "sections": {"type": "array"},
                "doc_type": {"type": "string"},
                "is_default": {"type": "boolean"},
                "is_active": {"type": "boolean"},
                "reason": {"type": "string"},
            },
            "required": ["template_type"],
        },
    },
    {
        "name": "get_cre_tenants",
        "description": "Get commercial tenants for this project.",
        "input_schema": {
            "type": "object",
            "properties": {
                "tenant_id": {"type": "integer"},
            },
        },
    },
    {
        "name": "update_cre_tenant",
        "description": "Create or update a commercial tenant.",
        "input_schema": {
            "type": "object",
            "properties": {
                "id": {"type": "integer"},
                "tenant_name": {"type": "string"},
                "tenant_legal_name": {"type": "string"},
                "dba_name": {"type": "string"},
                "industry": {"type": "string"},
                "naics_code": {"type": "string"},
                "business_type": {"type": "string"},
                "credit_rating": {"type": "string"},
                "creditworthiness": {"type": "string"},
                "dun_bradstreet_number": {"type": "string"},
                "annual_revenue": {"type": "number"},
                "years_in_business": {"type": "integer"},
                "contact_name": {"type": "string"},
                "contact_title": {"type": "string"},
                "email": {"type": "string"},
                "phone": {"type": "string"},
                "guarantor_name": {"type": "string"},
                "guarantor_type": {"type": "string"},
                "reason": {"type": "string"},
            },
        },
    },
    {
        "name": "delete_cre_tenant",
        "description": "Delete a commercial tenant by ID.",
        "input_schema": {
            "type": "object",
            "properties": {
                "id": {"type": "integer"},
                "reason": {"type": "string"},
            },
            "required": ["id"],
        },
    },
    {
        "name": "get_cre_spaces",
        "description": "Get commercial spaces/suites for this project.",
        "input_schema": {
            "type": "object",
            "properties": {
                "space_id": {"type": "integer"},
                "cre_property_id": {"type": "integer"},
                "floor": {"type": "integer"},
                "status": {"type": "string"},
            },
        },
    },
    {
        "name": "update_cre_space",
        "description": "Create or update a commercial space.",
        "input_schema": {
            "type": "object",
            "properties": {
                "id": {"type": "integer"},
                "cre_property_id": {"type": "integer"},
                "space_number": {"type": "string"},
                "floor_number": {"type": "integer"},
                "rentable_sf": {"type": "number"},
                "usable_sf": {"type": "number"},
                "space_type": {"type": "string"},
                "frontage_ft": {"type": "number"},
                "ceiling_height_ft": {"type": "number"},
                "number_of_offices": {"type": "integer"},
                "number_of_conference_rooms": {"type": "integer"},
                "has_kitchenette": {"type": "boolean"},
                "has_private_restroom": {"type": "boolean"},
                "space_status": {"type": "string"},
                "available_date": {"type": "string"},
                "reason": {"type": "string"},
            },
        },
    },
    {
        "name": "delete_cre_space",
        "description": "Delete a commercial space by ID.",
        "input_schema": {
            "type": "object",
            "properties": {
                "id": {"type": "integer"},
                "reason": {"type": "string"},
            },
            "required": ["id"],
        },
    },
    {
        "name": "get_cre_leases",
        "description": "Get commercial lease records.",
        "input_schema": {
            "type": "object",
            "properties": {
                "lease_id": {"type": "integer"},
                "tenant_id": {"type": "integer"},
                "space_id": {"type": "integer"},
                "cre_property_id": {"type": "integer"},
                "status": {"type": "string"},
            },
        },
    },
    {
        "name": "update_cre_lease",
        "description": "Create or update a commercial lease.",
        "input_schema": {
            "type": "object",
            "properties": {
                "id": {"type": "integer"},
                "tenant_id": {"type": "integer"},
                "space_id": {"type": "integer"},
                "cre_property_id": {"type": "integer"},
                "lease_number": {"type": "string"},
                "lease_type": {"type": "string"},
                "lease_status": {"type": "string"},
                "lease_execution_date": {"type": "string"},
                "lease_commencement_date": {"type": "string"},
                "rent_commencement_date": {"type": "string"},
                "lease_expiration_date": {"type": "string"},
                "lease_term_months": {"type": "integer"},
                "leased_sf": {"type": "number"},
                "number_of_options": {"type": "integer"},
                "option_term_months": {"type": "integer"},
                "option_notice_months": {"type": "integer"},
                "early_termination_allowed": {"type": "boolean"},
                "termination_notice_months": {"type": "integer"},
                "termination_penalty_amount": {"type": "number"},
                "security_deposit_amount": {"type": "number"},
                "security_deposit_months": {"type": "number"},
                "expansion_rights": {"type": "boolean"},
                "right_of_first_refusal": {"type": "boolean"},
                "exclusive_use_clause": {"type": "string"},
                "co_tenancy_clause": {"type": "string"},
                "radius_restriction": {"type": "string"},
                "notes": {"type": "string"},
                "reason": {"type": "string"},
            },
        },
    },
    {
        "name": "delete_cre_lease",
        "description": "Delete a commercial lease by ID.",
        "input_schema": {
            "type": "object",
            "properties": {
                "id": {"type": "integer"},
                "reason": {"type": "string"},
            },
            "required": ["id"],
        },
    },
    {
        "name": "get_cre_properties",
        "description": "Get commercial property records.",
        "input_schema": {
            "type": "object",
            "properties": {
                "cre_property_id": {"type": "integer"},
                "property_type": {"type": "string"},
            },
        },
    },
    {
        "name": "update_cre_property",
        "description": "Create or update a commercial property.",
        "input_schema": {
            "type": "object",
            "properties": {
                "id": {"type": "integer"},
                "parcel_id": {"type": "integer"},
                "property_name": {"type": "string"},
                "property_type": {"type": "string"},
                "property_subtype": {"type": "string"},
                "total_building_sf": {"type": "number"},
                "rentable_sf": {"type": "number"},
                "usable_sf": {"type": "number"},
                "common_area_sf": {"type": "number"},
                "load_factor": {"type": "number"},
                "year_built": {"type": "integer"},
                "year_renovated": {"type": "integer"},
                "number_of_floors": {"type": "integer"},
                "number_of_units": {"type": "integer"},
                "parking_spaces": {"type": "integer"},
                "parking_ratio": {"type": "number"},
                "property_status": {"type": "string"},
                "stabilization_date": {"type": "string"},
                "stabilized_occupancy_pct": {"type": "number"},
                "acquisition_date": {"type": "string"},
                "acquisition_price": {"type": "number"},
                "current_assessed_value": {"type": "number"},
                "reason": {"type": "string"},
            },
        },
    },
    {
        "name": "get_cre_rent_roll",
        "description": "Get commercial rent roll summary.",
        "input_schema": {
            "type": "object",
            "properties": {
                "cre_property_id": {"type": "integer"},
                "include_vacant": {"type": "boolean"},
                "as_of_date": {"type": "string"},
            },
        },
    },
    {
        "name": "get_competitive_projects",
        "description": "Get competitive/comparable development projects.",
        "input_schema": {
            "type": "object",
            "properties": {
                "comp_id": {"type": "integer"},
                "city": {"type": "string"},
                "builder": {"type": "string"},
                "status": {"type": "string"},
            },
        },
    },
    {
        "name": "update_competitive_project",
        "description": "Create or update a competitive project.",
        "input_schema": {
            "type": "object",
            "properties": {
                "id": {"type": "integer"},
                "comp_name": {"type": "string"},
                "master_plan_name": {"type": "string"},
                "builder_name": {"type": "string"},
                "comp_address": {"type": "string"},
                "city": {"type": "string"},
                "zip_code": {"type": "string"},
                "latitude": {"type": "number"},
                "longitude": {"type": "number"},
                "total_units": {"type": "integer"},
                "price_min": {"type": "number"},
                "price_max": {"type": "number"},
                "absorption_rate_monthly": {"type": "number"},
                "status": {"type": "string"},
                "effective_date": {"type": "string"},
                "data_source": {"type": "string"},
                "source_url": {"type": "string"},
                "source_project_id": {"type": "string"},
                "notes": {"type": "string"},
                "reason": {"type": "string"},
            },
        },
    },
    {
        "name": "delete_competitive_project",
        "description": "Delete a competitive project by ID.",
        "input_schema": {
            "type": "object",
            "properties": {
                "id": {"type": "integer"},
                "reason": {"type": "string"},
            },
            "required": ["id"],
        },
    },
    {
        "name": "get_absorption_benchmarks",
        "description": "Get absorption rate benchmarks.",
        "input_schema": {
            "type": "object",
            "properties": {
                "benchmark_id": {"type": "integer"},
                "market": {"type": "string"},
                "scale": {"type": "string"},
            },
        },
    },
    {
        "name": "get_market_assumptions",
        "description": "Get market growth and trend assumptions.",
        "input_schema": {
            "type": "object",
            "properties": {
                "lu_type_code": {"type": "string"},
            },
        },
    },
    {
        "name": "update_market_assumptions",
        "description": "Update market growth and trend assumptions.",
        "input_schema": {
            "type": "object",
            "properties": {
                "lu_type_code": {"type": "string"},
                "price_per_unit": {"type": "number"},
                "dvl_per_year": {"type": "number"},
                "dvl_per_month": {"type": "number"},
                "reason": {"type": "string"},
            },
            "required": ["lu_type_code"],
        },
    },
    {
        "name": "get_absorption_schedule",
        "description": "Get lot/unit absorption schedule.",
        "input_schema": {
            "type": "object",
            "properties": {
                "absorption_id": {"type": "integer"},
                "phase_id": {"type": "integer"},
                "parcel_id": {"type": "integer"},
                "scenario": {"type": "string"},
            },
        },
    },
    {
        "name": "update_absorption_schedule",
        "description": "Create or update absorption schedule entries.",
        "input_schema": {
            "type": "object",
            "properties": {
                "id": {"type": "integer"},
                "area_id": {"type": "integer"},
                "phase_id": {"type": "integer"},
                "parcel_id": {"type": "integer"},
                "revenue_stream_name": {"type": "string"},
                "revenue_category": {"type": "string"},
                "lu_family_name": {"type": "string"},
                "lu_type_code": {"type": "string"},
                "product_code": {"type": "string"},
                "start_period": {"type": "integer"},
                "periods_to_complete": {"type": "integer"},
                "timing_method": {"type": "string"},
                "units_per_period": {"type": "number"},
                "total_units": {"type": "integer"},
                "base_price_per_unit": {"type": "number"},
                "price_escalation_pct": {"type": "number"},
                "scenario_name": {"type": "string"},
                "scenario_id": {"type": "integer"},
                "probability_weight": {"type": "number"},
                "notes": {"type": "string"},
                "confidence": {
                    "type": "string",
                    "enum": ["observed", "inferred", "assumed"],
                    "description": "Data confidence: observed=from market data, inferred=derived from comps, assumed=user estimate",
                },
                "data_source": {
                    "type": "string",
                    "description": "Source of absorption data (e.g., 'Metrostudy Q4 2025', 'Builder interview', 'Zonda report')",
                },
                "reason": {"type": "string"},
            },
        },
    },
    {
        "name": "delete_absorption_schedule",
        "description": "Delete an absorption schedule entry.",
        "input_schema": {
            "type": "object",
            "properties": {
                "id": {"type": "integer"},
                "reason": {"type": "string"},
            },
            "required": ["id"],
        },
    },
    {
        "name": "get_parcel_sale_events",
        "description": "Get planned parcel sale events.",
        "input_schema": {
            "type": "object",
            "properties": {
                "sale_event_id": {"type": "integer"},
                "parcel_id": {"type": "integer"},
                "phase_id": {"type": "integer"},
                "status": {"type": "string"},
                "buyer": {"type": "string"},
            },
        },
    },
    {
        "name": "update_parcel_sale_event",
        "description": "Create or update a parcel sale event.",
        "input_schema": {
            "type": "object",
            "properties": {
                "id": {"type": "integer"},
                "parcel_id": {"type": "integer"},
                "phase_id": {"type": "integer"},
                "buyer_entity": {"type": "string"},
                "sale_type": {"type": "string"},
                "contract_date": {"type": "string"},
                "total_lots_contracted": {"type": "integer"},
                "base_price_per_lot": {"type": "number"},
                "sale_status": {"type": "string"},
                "reason": {"type": "string"},
            },
        },
    },
    {
        "name": "delete_parcel_sale_event",
        "description": "Delete a parcel sale event by ID.",
        "input_schema": {
            "type": "object",
            "properties": {
                "id": {"type": "integer"},
                "reason": {"type": "string"},
            },
            "required": ["id"],
        },
    },
    {
        "name": "get_extraction_results",
        "description": "Get document extraction results for review.",
        "input_schema": {
            "type": "object",
            "properties": {
                "extraction_id": {"type": "integer"},
                "doc_id": {"type": "integer"},
                "status": {"type": "string"},
                "min_confidence": {"type": "number"},
                "target_table": {"type": "string"},
            },
        },
    },
    {
        "name": "update_extraction_result",
        "description": "Accept or reject an extraction result.",
        "input_schema": {
            "type": "object",
            "properties": {
                "extraction_id": {"type": "integer"},
                "status": {"type": "string"},
                "corrected_value": {"type": "string"},
                "rejection_reason": {"type": "string"},
                "reason": {"type": "string"},
            },
            "required": ["extraction_id"],
        },
    },
    {
        "name": "get_extraction_corrections",
        "description": "Get user corrections to extraction results.",
        "input_schema": {
            "type": "object",
            "properties": {
                "field_path": {"type": "string"},
                "correction_type": {"type": "string"},
                "limit": {"type": "integer"},
            },
        },
    },
    {
        "name": "log_extraction_correction",
        "description": "Log a user correction to an extraction result.",
        "input_schema": {
            "type": "object",
            "properties": {
                "extraction_id": {"type": "integer"},
                "field_path": {"type": "string"},
                "ai_value": {"type": "string"},
                "user_value": {"type": "string"},
                "correction_type": {"type": "string"},
                "page_number": {"type": "integer"},
                "reason": {"type": "string"},
            },
            "required": ["extraction_id", "field_path", "user_value"],
        },
    },
    {
        "name": "get_knowledge_entities",
        "description": "Get knowledge graph entities for this project.",
        "input_schema": {
            "type": "object",
            "properties": {
                "entity_id": {"type": "integer"},
                "entity_type": {"type": "string"},
                "entity_subtype": {"type": "string"},
                "search": {"type": "string"},
            },
        },
    },
    {
        "name": "get_knowledge_facts",
        "description": "Get knowledge graph facts (subject-predicate-object).",
        "input_schema": {
            "type": "object",
            "properties": {
                "fact_id": {"type": "integer"},
                "entity_id": {"type": "integer"},
                "predicate": {"type": "string"},
                "source_type": {"type": "string"},
                "is_current": {"type": "boolean"},
                "min_confidence": {"type": "number"},
            },
        },
    },
    {
        "name": "get_knowledge_insights",
        "description": "Get AI-generated insights for this project.",
        "input_schema": {
            "type": "object",
            "properties": {
                "insight_id": {"type": "integer"},
                "entity_id": {"type": "integer"},
                "insight_type": {"type": "string"},
                "severity": {"type": "string"},
                "acknowledged": {"type": "boolean"},
            },
        },
    },
    {
        "name": "acknowledge_insight",
        "description": "Mark an insight as acknowledged/dismissed.",
        "input_schema": {
            "type": "object",
            "properties": {
                "insight_id": {"type": "integer"},
                "user_action": {"type": "string"},
                "notes": {"type": "string"},
                "reason": {"type": "string"},
            },
            "required": ["insight_id", "user_action"],
        },
    },
    {
        "name": "analyze_loss_to_lease",
        "description": "Analyze loss-to-lease between contract and market rents.",
        "input_schema": {
            "type": "object",
            "properties": {
                "method": {
                    "type": "string",
                    "enum": ["simple", "time_weighted"],
                },
                "discount_rate": {"type": "number"},
                "include_details": {"type": "boolean"},
                "include_schedule": {"type": "boolean"},
            },
        },
    },
    {
        "name": "calculate_year1_buyer_noi",
        "description": "Calculate Year 1 buyer NOI projection.",
        "input_schema": {
            "type": "object",
            "properties": {
                "vacancy_rate": {"type": "number"},
                "credit_loss_rate": {"type": "number"},
                "expense_scenario": {
                    "type": "string",
                    "enum": ["proforma", "t12", "default"],
                },
                "include_loss_to_lease": {"type": "boolean"},
            },
        },
    },
    {
        "name": "check_income_analysis_availability",
        "description": "Check what income analysis data is available.",
        "input_schema": {
            "type": "object",
            "properties": {},
        },
    },
    {
        "name": "whatif_compute",
        "description": "Apply a what-if adjustment to a field.",
        "input_schema": {
            "type": "object",
            "properties": {
                "field": {"type": "string"},
                "table": {"type": "string"},
                "new_value": {"type": "number"},
                "label": {"type": "string"},
                "unit": {
                    "type": "string",
                    "enum": ["pct", "currency", "ratio", "integer", "months", "years", "number"],
                },
                "record_id": {"type": "string"},
            },
            "required": ["field", "new_value"],
        },
    },
    {
        "name": "whatif_compound",
        "description": "Apply multiple what-if adjustments at once.",
        "input_schema": {
            "type": "object",
            "properties": {
                "field": {"type": "string"},
                "table": {"type": "string"},
                "new_value": {"type": "number"},
                "label": {"type": "string"},
                "unit": {
                    "type": "string",
                    "enum": ["pct", "currency", "ratio", "integer", "months", "years", "number"],
                },
                "record_id": {"type": "string"},
            },
            "required": ["field", "new_value"],
        },
    },
    {
        "name": "whatif_reset",
        "description": "Reset what-if adjustments (all or specific fields).",
        "input_schema": {
            "type": "object",
            "properties": {
                "field": {"type": "string"},
                "table": {"type": "string"},
                "record_id": {"type": "string"},
            },
        },
    },
    {
        "name": "whatif_attribute",
        "description": "Attach a note/attribution to a what-if adjustment.",
        "input_schema": {
            "type": "object",
            "properties": {},
        },
    },
    {
        "name": "whatif_status",
        "description": "Get current what-if overlay status.",
        "input_schema": {
            "type": "object",
            "properties": {},
        },
    },
    {
        "name": "scenario_save",
        "description": "Save current what-if state as a named scenario.",
        "input_schema": {
            "type": "object",
            "properties": {
                "scenario_name": {"type": "string"},
                "description": {"type": "string"},
                "tags": {
                    "type": "array",
                    "items": {"type": "string"},
                },
            },
            "required": ["scenario_name"],
        },
    },
    {
        "name": "scenario_load",
        "description": "Load a saved scenario into the what-if overlay.",
        "input_schema": {
            "type": "object",
            "properties": {
                "scenario_log_id": {"type": "integer"},
            },
            "required": ["scenario_log_id"],
        },
    },
    {
        "name": "scenario_log_query",
        "description": "Log a natural language scenario query for analytics.",
        "input_schema": {
            "type": "object",
            "properties": {
                "status": {
                    "type": "string",
                    "enum": ["saved", "committed", "explored", "all"],
                },
                "tag": {"type": "string"},
                "search": {"type": "string"},
                "limit": {"type": "integer"},
            },
        },
    },
    {
        "name": "whatif_commit",
        "description": "Commit all what-if adjustments to the database.",
        "input_schema": {
            "type": "object",
            "properties": {},
        },
    },
    {
        "name": "whatif_commit_selective",
        "description": "Commit specific what-if adjustments to the database.",
        "input_schema": {
            "type": "object",
            "properties": {
                "fields": {
                    "type": "array",
                    "items": {"type": "string"},
                },
            },
            "required": ["fields"],
        },
    },
    {
        "name": "whatif_undo",
        "description": "Undo the last what-if adjustment.",
        "input_schema": {
            "type": "object",
            "properties": {
                "scenario_log_id": {"type": "integer"},
            },
            "required": ["scenario_log_id"],
        },
    },
    {
        "name": "scenario_replay",
        "description": "Replay a saved scenario's adjustments step by step.",
        "input_schema": {
            "type": "object",
            "properties": {
                "scenario_log_id": {"type": "integer"},
            },
            "required": ["scenario_log_id"],
        },
    },
    {
        "name": "scenario_compare",
        "description": "Compare two scenarios side by side.",
        "input_schema": {
            "type": "object",
            "properties": {
                "scenario_id_a": {"type": "integer"},
                "scenario_id_b": {"type": "integer"},
            },
            "required": ["scenario_id_a", "scenario_id_b"],
        },
    },
    {
        "name": "scenario_diff",
        "description": "Get detailed diff between two scenarios.",
        "input_schema": {
            "type": "object",
            "properties": {
                "scenario_log_id": {"type": "integer"},
            },
            "required": ["scenario_log_id"],
        },
    },
    {
        "name": "scenario_branch",
        "description": "Create a new scenario branching from an existing one.",
        "input_schema": {
            "type": "object",
            "properties": {
                "parent_scenario_id": {"type": "integer"},
                "scenario_name": {"type": "string"},
                "description": {"type": "string"},
            },
            "required": ["parent_scenario_id", "scenario_name"],
        },
    },
    {
        "name": "scenario_apply_cross_project",
        "description": "Apply a scenario to a different project.",
        "input_schema": {
            "type": "object",
            "properties": {
                "scenario_log_id": {"type": "integer"},
                "target_project_id": {"type": "integer"},
            },
            "required": ["scenario_log_id", "target_project_id"],
        },
    },
    {
        "name": "get_kpi_definitions",
        "description": "Get KPI definitions and thresholds.",
        "input_schema": {
            "type": "object",
            "properties": {
                "project_type_code": {
                    "type": "string",
                    "enum": ["LAND", "MF", "OFF", "RET", "IND", "HTL", "MXU"],
                },
            },
        },
    },
    {
        "name": "update_kpi_definitions",
        "description": "Update KPI definitions and thresholds.",
        "input_schema": {
            "type": "object",
            "properties": {
                "action": {
                    "type": "string",
                    "enum": ["add", "remove"],
                },
                "kpi_key": {"type": "string"},
                "display_label": {"type": "string"},
                "project_type_code": {
                    "type": "string",
                    "enum": ["LAND", "MF", "OFF", "RET", "IND", "HTL", "MXU"],
                },
            },
            "required": ["action", "kpi_key"],
        },
    },
    {
        "name": "ic_start_session",
        "description": "Start an Investment Committee review session.",
        "input_schema": {
            "type": "object",
            "properties": {
                "project_id": {"type": "integer"},
                "aggressiveness": {"type": "integer", "minimum": 1, "maximum": 10},
            },
        },
    },
    {
        "name": "ic_challenge_next",
        "description": "Get the next IC challenge question.",
        "input_schema": {
            "type": "object",
            "properties": {
                "session_id": {"type": "integer"},
                "current_aggressiveness": {"type": "integer", "minimum": 1, "maximum": 10},
            },
            "required": ["session_id"],
        },
    },
    {
        "name": "ic_respond_challenge",
        "description": "Submit a response to an IC challenge.",
        "input_schema": {
            "type": "object",
            "properties": {
                "session_id": {"type": "integer"},
                "challenge_index": {"type": "integer"},
                "response": {
                    "type": "string",
                    "enum": ["accept", "reject", "modify"],
                },
                "user_value": {"type": "number"},
                "impact_deltas": {"type": "object"},
            },
            "required": ["session_id", "challenge_index", "response"],
        },
    },
    {
        "name": "sensitivity_grid",
        "description": "Run sensitivity analysis grid on two variables.",
        "input_schema": {
            "type": "object",
            "properties": {
                "assumption_key": {"type": "string"},
                "table": {"type": "string"},
                "field": {"type": "string"},
                "base_value": {"type": "number"},
                "steps": {
                    "type": "array",
                    "items": {"type": "number"},
                },
                "target_metrics": {
                    "type": "array",
                    "items": {"type": "string"},
                },
            },
            "required": ["assumption_key", "table", "field", "base_value"],
        },
    },
    {
        "name": "search_cabinet_contacts",
        "description": "Search contacts in the cabinet by name/company/email.",
        "input_schema": {
            "type": "object",
            "properties": {
                "query": {"type": "string"},
                "contact_type": {
                    "type": "string",
                    "enum": ["Person", "Company", "Entity", "Fund", "Government", "Other"],
                },
                "limit": {"type": "integer"},
            },
            "required": ["query"],
        },
    },
    {
        "name": "get_project_contacts_v2",
        "description": "Get all contacts assigned to this project with roles.",
        "input_schema": {
            "type": "object",
            "properties": {},
        },
    },
    {
        "name": "get_contact_roles",
        "description": "Get available contact role definitions.",
        "input_schema": {
            "type": "object",
            "properties": {
                "category": {
                    "type": "string",
                    "enum": ["Client", "Transaction Party", "Internal Team", "Vendor", "Other"],
                },
            },
        },
    },
    {
        "name": "create_cabinet_contact",
        "description": "Create a new contact in the cabinet.",
        "input_schema": {
            "type": "object",
            "properties": {
                "name": {"type": "string"},
                "contact_type": {
                    "type": "string",
                    "enum": ["Person", "Company", "Entity", "Fund", "Government", "Other"],
                },
                "display_name": {"type": "string"},
                "company_name": {"type": "string"},
                "job_title": {"type": "string"},
                "email": {"type": "string"},
                "phone": {"type": "string"},
                "mobile_phone": {"type": "string"},
                "address_line1": {"type": "string"},
                "city": {"type": "string"},
                "state": {"type": "string"},
                "postal_code": {"type": "string"},
                "notes": {"type": "string"},
            },
            "required": ["name", "contact_type"],
        },
    },
    {
        "name": "assign_contact_to_project",
        "description": "Assign an existing contact to this project with a role.",
        "input_schema": {
            "type": "object",
            "properties": {
                "contact_id": {"type": "integer"},
                "role_id": {"type": "integer"},
                "is_primary": {"type": "boolean"},
                "is_billing_contact": {"type": "boolean"},
                "notes": {"type": "string"},
            },
            "required": ["contact_id", "role_id"],
        },
    },
    {
        "name": "remove_contact_from_project",
        "description": "Remove a contact's role assignment from this project.",
        "input_schema": {
            "type": "object",
            "properties": {
                "project_contact_id": {"type": "integer"},
            },
            "required": ["project_contact_id"],
        },
    },
    {
        "name": "extract_and_save_contacts",
        "description": "Extract contacts from document content and save to project.",
        "input_schema": {
            "type": "object",
            "properties": {
                "contacts": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "name": {"type": "string"},
                            "contact_type": {
                                "type": "string",
                                "enum": ["Person", "Company", "Entity", "Fund", "Government", "Other"],
                            },
                            "role_code": {"type": "string"},
                            "company_name": {"type": "string"},
                            "job_title": {"type": "string"},
                            "email": {"type": "string"},
                            "phone": {"type": "string"},
                            "license_number": {"type": "string"},
                            "is_primary": {"type": "boolean"},
                            "notes": {"type": "string"},
                        },
                        "required": ["name", "role_code"],
                    },
                },
                "source_document": {"type": "string"},
            },
            "required": ["contacts"],
        },
    },
    {
        "name": "get_hbu_scenarios",
        "description": "Get H&BU analysis scenarios for this project.",
        "input_schema": {
            "type": "object",
            "properties": {
                "scenario_type": {
                    "type": "string",
                    "enum": ["as_vacant", "as_improved", "alternative"],
                },
            },
        },
    },
    {
        "name": "create_hbu_scenario",
        "description": "Create a new H&BU analysis scenario.",
        "input_schema": {
            "type": "object",
            "properties": {
                "scenario_name": {"type": "string"},
                "scenario_type": {
                    "type": "string",
                    "enum": ["as_vacant", "as_improved", "alternative"],
                },
                "legal_permissible": {"type": "boolean"},
                "legal_zoning_code": {"type": "string"},
                "legal_permitted_uses": {
                    "type": "array",
                    "items": {"type": "string"},
                },
                "legal_requires_variance": {"type": "boolean"},
                "legal_variance_type": {"type": "string"},
                "legal_narrative": {"type": "string"},
                "physical_possible": {"type": "boolean"},
                "physical_site_adequate": {"type": "boolean"},
                "physical_topography_suitable": {"type": "boolean"},
                "physical_utilities_available": {"type": "boolean"},
                "physical_access_adequate": {"type": "boolean"},
                "physical_constraints": {
                    "type": "array",
                    "items": {"type": "object"},
                },
                "physical_narrative": {"type": "string"},
                "economic_feasible": {"type": "boolean"},
                "economic_development_cost": {"type": "number"},
                "economic_stabilized_value": {"type": "number"},
                "economic_residual_land_value": {"type": "number"},
                "economic_profit_margin_pct": {"type": "number"},
                "economic_irr_pct": {"type": "number"},
                "economic_narrative": {"type": "string"},
                "conclusion_use_type": {"type": "string"},
                "conclusion_density": {"type": "string"},
                "conclusion_summary": {"type": "string"},
            },
            "required": ["scenario_name", "scenario_type"],
        },
    },
    {
        "name": "update_hbu_scenario",
        "description": "Update an existing H&BU scenario.",
        "input_schema": {
            "type": "object",
            "properties": {
                "hbu_id": {"type": "integer"},
                "scenario_name": {"type": "string"},
                "legal_permissible": {"type": "boolean"},
                "legal_zoning_code": {"type": "string"},
                "legal_permitted_uses": {
                    "type": "array",
                    "items": {"type": "string"},
                },
                "legal_requires_variance": {"type": "boolean"},
                "legal_variance_type": {"type": "string"},
                "legal_narrative": {"type": "string"},
                "physical_possible": {"type": "boolean"},
                "physical_site_adequate": {"type": "boolean"},
                "physical_topography_suitable": {"type": "boolean"},
                "physical_utilities_available": {"type": "boolean"},
                "physical_access_adequate": {"type": "boolean"},
                "physical_constraints": {
                    "type": "array",
                    "items": {"type": "object"},
                },
                "physical_narrative": {"type": "string"},
                "economic_feasible": {"type": "boolean"},
                "economic_development_cost": {"type": "number"},
                "economic_stabilized_value": {"type": "number"},
                "economic_residual_land_value": {"type": "number"},
                "economic_profit_margin_pct": {"type": "number"},
                "economic_irr_pct": {"type": "number"},
                "economic_narrative": {"type": "string"},
                "conclusion_use_type": {"type": "string"},
                "conclusion_density": {"type": "string"},
                "conclusion_summary": {"type": "string"},
                "conclusion_full_narrative": {"type": "string"},
                "status": {
                    "type": "string",
                    "enum": ["draft", "ai_generated", "user_reviewed", "final"],
                },
            },
            "required": ["hbu_id"],
        },
    },
    {
        "name": "compare_hbu_scenarios",
        "description": "Compare and rank H&BU scenarios by productivity metric.",
        "input_schema": {
            "type": "object",
            "properties": {
                "comparison_metric": {
                    "type": "string",
                    "enum": ["residual_land_value", "irr", "profit_margin"],
                },
            },
        },
    },
    {
        "name": "generate_hbu_narrative",
        "description": "Gather context for generating H&BU narratives.",
        "input_schema": {
            "type": "object",
            "properties": {
                "hbu_id": {"type": "integer"},
            },
            "required": ["hbu_id"],
        },
    },
    {
        "name": "get_hbu_conclusion",
        "description": "Get the maximally productive H&BU conclusion.",
        "input_schema": {
            "type": "object",
            "properties": {},
        },
    },
    {
        "name": "add_hbu_comparable_use",
        "description": "Add a comparable use to an H&BU scenario.",
        "input_schema": {
            "type": "object",
            "properties": {
                "hbu_id": {"type": "integer"},
                "use_name": {"type": "string"},
                "use_category": {"type": "string"},
                "is_legally_permissible": {"type": "boolean"},
                "is_physically_possible": {"type": "boolean"},
                "is_economically_feasible": {"type": "boolean"},
                "proposed_density": {"type": "string"},
                "development_cost": {"type": "number"},
                "stabilized_value": {"type": "number"},
                "residual_land_value": {"type": "number"},
                "irr_pct": {"type": "number"},
                "notes": {"type": "string"},
            },
            "required": ["hbu_id", "use_name"],
        },
    },
    {
        "name": "get_property_attributes",
        "description": "Get site and improvement attributes for this project.",
        "input_schema": {
            "type": "object",
            "properties": {
                "category": {
                    "type": "string",
                    "enum": ["site", "improvement", "all"],
                },
            },
        },
    },
    {
        "name": "update_property_attributes",
        "description": "Update property attributes (core fields and JSONB).",
        "input_schema": {
            "type": "object",
            "properties": {
                "site_shape": {"type": "string"},
                "site_utility_rating": {"type": "integer", "minimum": 1, "maximum": 5},
                "location_rating": {"type": "integer", "minimum": 1, "maximum": 5},
                "access_rating": {"type": "integer", "minimum": 1, "maximum": 5},
                "visibility_rating": {"type": "integer", "minimum": 1, "maximum": 5},
                "building_count": {"type": "integer"},
                "net_rentable_area": {"type": "number"},
                "land_to_building_ratio": {"type": "number"},
                "construction_class": {
                    "type": "string",
                    "enum": ["A", "B", "C", "D", "S"],
                },
                "construction_type": {"type": "string"},
                "condition_rating": {"type": "integer", "minimum": 1, "maximum": 5},
                "quality_rating": {"type": "integer", "minimum": 1, "maximum": 5},
                "parking_spaces": {"type": "integer"},
                "parking_ratio": {"type": "number"},
                "parking_type": {"type": "string"},
                "effective_age": {"type": "integer"},
                "total_economic_life": {"type": "integer"},
                "remaining_economic_life": {"type": "integer"},
                "site_attributes": {"type": "object", "additionalProperties": True},
                "improvement_attributes": {"type": "object", "additionalProperties": True},
            },
        },
    },
    {
        "name": "get_attribute_definitions",
        "description": "Get configurable property attribute definitions.",
        "input_schema": {
            "type": "object",
            "properties": {
                "category": {
                    "type": "string",
                    "enum": ["site", "improvement"],
                },
                "subcategory": {"type": "string"},
            },
            "required": ["category"],
        },
    },
    {
        "name": "update_site_attribute",
        "description": "Update a single site attribute by code.",
        "input_schema": {
            "type": "object",
            "properties": {
                "attribute_code": {"type": "string"},
                "value": {},
            },
            "required": ["attribute_code", "value"],
        },
    },
    {
        "name": "update_improvement_attribute",
        "description": "Update a single improvement attribute by code.",
        "input_schema": {
            "type": "object",
            "properties": {
                "attribute_code": {"type": "string"},
                "value": {},
            },
            "required": ["attribute_code", "value"],
        },
    },
    {
        "name": "calculate_remaining_economic_life",
        "description": "Calculate remaining economic life and depreciation.",
        "input_schema": {
            "type": "object",
            "properties": {
                "effective_age": {"type": "integer"},
                "total_economic_life": {"type": "integer"},
            },
        },
    },
    {
        "name": "log_alpha_feedback",
        "description": "Log user feedback (bug, suggestion, question).",
        "input_schema": {
            "type": "object",
            "properties": {
                "feedback_type": {
                    "type": "string",
                    "enum": ["bug", "suggestion", "question", "confusion"],
                },
                "summary": {"type": "string"},
                "user_quote": {"type": "string"},
                "page_context": {"type": "string"},
            },
            "required": ["feedback_type", "summary"],
        },
    },
    {
        "name": "create_analysis_draft",
        "description": "Create a new analysis draft for conversational underwriting.",
        "input_schema": {
            "type": "object",
            "properties": {
                "draft_name": {"type": "string"},
                "property_type": {
                    "type": "string",
                    "enum": ["MF", "LAND", "OFF", "RET", "IND", "HTL", "MXU"],
                },
                "perspective": {
                    "type": "string",
                    "enum": ["INVESTMENT", "DEVELOPMENT"],
                },
                "purpose": {
                    "type": "string",
                    "enum": ["VALUATION", "UNDERWRITING"],
                },
                "value_add_enabled": {"type": "boolean"},
                "address": {"type": "string"},
                "city": {"type": "string"},
                "state": {"type": "string"},
                "zip_code": {"type": "string"},
                "inputs": {"type": "object"},
            },
            "required": ["draft_name", "property_type", "inputs"],
        },
    },
    {
        "name": "update_analysis_draft",
        "description": "Update an existing analysis draft with new inputs.",
        "input_schema": {
            "type": "object",
            "properties": {
                "draft_id": {"type": "integer"},
                "inputs": {"type": "object"},
                "perspective": {
                    "type": "string",
                    "enum": ["INVESTMENT", "DEVELOPMENT"],
                },
                "purpose": {
                    "type": "string",
                    "enum": ["VALUATION", "UNDERWRITING"],
                },
                "value_add_enabled": {"type": "boolean"},
            },
            "required": ["draft_id", "inputs"],
        },
    },
    {
        "name": "run_draft_calculations",
        "description": "Run financial calculations on a draft's inputs.",
        "input_schema": {
            "type": "object",
            "properties": {
                "draft_id": {"type": "integer"},
                "calc_type": {
                    "type": "string",
                    "enum": ["quick_value", "unleveraged", "leveraged", "full_waterfall"],
                },
            },
            "required": ["draft_id"],
        },
    },
    {
        "name": "convert_draft_to_project",
        "description": "Convert a draft into a full Landscape project.",
        "input_schema": {
            "type": "object",
            "properties": {
                "draft_id": {"type": "integer"},
                "project_name": {"type": "string"},
            },
            "required": ["draft_id"],
        },
    },
    {
        "name": "get_zoning_info",
        "description": "Get zoning, FAR, and site coverage data.",
        "input_schema": {
            "type": "object",
            "properties": {},
        },
    },
    {
        "name": "search_irem_benchmarks",
        "description": "Search IREM expense benchmarks by property type and category.",
        "input_schema": {
            "type": "object",
            "properties": {
                "query": {"type": "string"},
                "category": {"type": "string"},
                "subcategory": {"type": "string"},
                "property_type": {"type": "string"},
                "year": {"type": "integer"},
                "compare_value": {"type": "number"},
                "value_type": {"type": "string", "enum": ["per_unit", "pct_of_egi"]},
            },
        },
    },
    {
        "name": "query_platform_knowledge",
        "description": "Search platform knowledge base (RAG) for real estate concepts.",
        "input_schema": {
            "type": "object",
            "properties": {
                "query": {"type": "string"},
                "property_type": {"type": "string"},
                "knowledge_domain": {"type": "string"},
                "max_chunks": {"type": "integer"},
            },
            "required": ["query"],
        },
    },
    # â”€â”€ Portfolio Intelligence Tools â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    {
        "name": "get_portfolio_summary",
        "description": "List all projects owned by the current user with key metrics.",
        "input_schema": {
            "type": "object",
            "properties": {},
        },
    },
    {
        "name": "get_portfolio_assumptions",
        "description": "Read key assumptions from another user project for comparison (read-only).",
        "input_schema": {
            "type": "object",
            "properties": {
                "target_project_id": {"type": "integer"},
            },
            "required": ["target_project_id"],
        },
    },
    {
        "name": "get_project_assumptions_detail",
        "description": "Get detailed market assumptions and growth rates from another user project (read-only).",
        "input_schema": {
            "type": "object",
            "properties": {
                "target_project_id": {"type": "integer"},
            },
            "required": ["target_project_id"],
        },
    },
    # â”€â”€ Land Development Planning Tools â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    {
        "name": "land_planning_run",
        "description": "Compute three-case land planning yield analysis (read-only, no persistence).",
        "input_schema": {
            "type": "object",
            "properties": {
                "gross_acres": {"type": "number"},
                "lot_product_id": {"type": "integer"},
                "lot_w_ft": {"type": "number"},
                "lot_d_ft": {"type": "number"},
                "lot_area_sf": {"type": "number"},
                "constraint_risk": {"type": "string", "enum": ["low", "medium", "high"]},
                "row_burden": {"type": "string", "enum": ["light", "typical", "heavy"]},
                "layout_style": {"type": "string", "enum": ["grid", "curvilinear", "cul_de_sac"]},
                "open_space_pct": {"type": "number"},
                "ryf_conservative": {"type": "number"},
                "ryf_base": {"type": "number"},
                "ryf_optimistic": {"type": "number"},
            },
            "required": ["gross_acres"],
        },
    },
    {
        "name": "land_planning_save",
        "description": "Compute land planning cases and propose mutations to persist assumptions.",
        "input_schema": {
            "type": "object",
            "properties": {
                "gross_acres": {"type": "number"},
                "lot_product_id": {"type": "integer"},
                "lot_w_ft": {"type": "number"},
                "lot_d_ft": {"type": "number"},
                "lot_area_sf": {"type": "number"},
                "constraint_risk": {"type": "string", "enum": ["low", "medium", "high"]},
                "row_burden": {"type": "string", "enum": ["light", "typical", "heavy"]},
                "layout_style": {"type": "string", "enum": ["grid", "curvilinear", "cul_de_sac"]},
                "open_space_pct": {"type": "number"},
                "selected_case": {"type": "string", "enum": ["conservative", "base", "optimistic"]},
            },
            "required": ["gross_acres"],
        },
    },
    # â”€â”€ Land Development Ingestion Tools â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    {
        "name": "configure_project_hierarchy",
        "description": "Set the hierarchy level labels for a land development project (e.g., Area/Phase/Parcel). Updates tbl_project_config tier labels. Only for LAND projects.",
        "input_schema": {
            "type": "object",
            "properties": {
                "tier_1_label": {
                    "type": "string",
                    "description": "Level 1 label (default: 'Area'). Examples: Area, District, Village",
                },
                "tier_2_label": {
                    "type": "string",
                    "description": "Level 2 label (default: 'Phase'). Examples: Phase, Pod, Section",
                },
                "tier_3_label": {
                    "type": "string",
                    "description": "Level 3 label (default: 'Parcel'). Examples: Parcel, Lot, Tract",
                },
                "reason": {"type": "string"},
            },
        },
    },
    {
        "name": "create_land_dev_containers",
        "description": "Bulk create the Area â†’ Phase â†’ Parcel hierarchy for a land development project. Writes to legacy tables (tbl_area, tbl_phase, tbl_parcel). Only for LAND projects.",
        "input_schema": {
            "type": "object",
            "properties": {
                "areas": {
                    "type": "array",
                    "description": "Array of areas, each containing phases with parcels.",
                    "items": {
                        "type": "object",
                        "properties": {
                            "area_alias": {"type": "string", "description": "Area name (e.g., 'Area 1', 'North Village')"},
                            "area_no": {"type": "integer", "description": "Area number for ordering"},
                            "phases": {
                                "type": "array",
                                "items": {
                                    "type": "object",
                                    "properties": {
                                        "phase_name": {"type": "string", "description": "Phase name (e.g., 'Phase 1.1')"},
                                        "phase_no": {"type": "integer", "description": "Phase number for ordering"},
                                        "label": {"type": "string"},
                                        "phase_status": {"type": "string", "enum": ["planned", "entitled", "under_construction", "delivering", "complete"]},
                                        "parcels": {
                                            "type": "array",
                                            "description": "One row per lot type within this phase",
                                            "items": {
                                                "type": "object",
                                                "properties": {
                                                    "parcel_name": {"type": "string", "description": "Descriptive name (e.g., '50x120 SFD Lots')"},
                                                    "parcel_code": {"type": "string", "description": "Short code (e.g., 'P1.1-SFD50')"},
                                                    "lot_product": {"type": "string", "description": "Lot product type (e.g., '50x120', 'Townhome', 'APTS')"},
                                                    "product_code": {"type": "string"},
                                                    "lot_width": {"type": "number"},
                                                    "lot_depth": {"type": "number"},
                                                    "lot_area": {"type": "number", "description": "Lot area in SF"},
                                                    "units_total": {"type": "integer", "description": "Number of lots/units of this type"},
                                                    "acres_gross": {"type": "number"},
                                                    "landuse_code": {"type": "string"},
                                                    "landuse_type": {"type": "string"},
                                                },
                                                "required": ["parcel_name", "units_total"],
                                            },
                                        },
                                    },
                                    "required": ["phase_name"],
                                },
                            },
                        },
                        "required": ["area_alias"],
                    },
                },
                "reason": {"type": "string"},
            },
            "required": ["areas"],
        },
    },
    {
        "name": "update_lot_mix",
        "description": "Set or update lot type inventory for a phase. Each entry becomes one tbl_parcel row (one row per lot type). Only for LAND projects.",
        "input_schema": {
            "type": "object",
            "properties": {
                "phase_id": {"type": "integer", "description": "Target phase ID"},
                "lot_types": {
                    "type": "array",
                    "description": "Array of lot type definitions. Each becomes one parcel row.",
                    "items": {
                        "type": "object",
                        "properties": {
                            "id": {"type": "integer", "description": "Existing parcel_id to update (omit for new)"},
                            "parcel_name": {"type": "string", "description": "Descriptive name (e.g., '50x120 SFD')"},
                            "parcel_code": {"type": "string"},
                            "lot_product": {"type": "string", "description": "Product type code"},
                            "product_code": {"type": "string"},
                            "lot_width": {"type": "number"},
                            "lot_depth": {"type": "number"},
                            "lot_area": {"type": "number"},
                            "units_total": {"type": "integer", "description": "Count of lots of this type"},
                            "acres_gross": {"type": "number"},
                            "saleprice": {"type": "number", "description": "Base sale price per lot"},
                            "landuse_code": {"type": "string"},
                            "landuse_type": {"type": "string"},
                        },
                        "required": ["parcel_name", "units_total"],
                    },
                },
                "reason": {"type": "string"},
            },
            "required": ["phase_id", "lot_types"],
        },
    },
    {
        "name": "update_land_use_budget",
        "description": "Set land use allocations for a land dev project (gross-to-net acreage by use type). Writes to tbl_acreage_allocation. Only for LAND projects.",
        "input_schema": {
            "type": "object",
            "properties": {
                "phase_id": {"type": "integer", "description": "Optional phase ID to scope allocations to a specific phase"},
                "allocations": {
                    "type": "array",
                    "description": "Land use allocation entries",
                    "items": {
                        "type": "object",
                        "properties": {
                            "land_use": {"type": "string", "description": "Land use category (e.g., 'Gross', 'Net Developable', 'Open Space', 'Roads/ROW', 'Single Family', 'Commercial', 'Drainage')"},
                            "acres": {"type": "number", "description": "Acres allocated to this use"},
                            "notes": {"type": "string", "description": "Source or context note"},
                            "data_source": {"type": "string", "description": "Where the data came from (e.g., 'Metrostudy Q4 2025')"},
                        },
                        "required": ["land_use", "acres"],
                    },
                },
                "reason": {"type": "string"},
            },
            "required": ["allocations"],
        },
    },
]
